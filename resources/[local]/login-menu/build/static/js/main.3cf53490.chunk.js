(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{43:function(e,t,n){},63:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),c=n.n(i),l=(n(63),n(14)),o=n(38),s=n(11),d=(n(43),n(123)),h=n(49),j=n.n(h),u=n(120),m=n(52),b=n.n(m),f=n(115),g=n(124),x=n(125),O=n(119),p=n(122),v=n(3),y=Object(f.a)((function(e){return{root:{"& .MuiTextField-root":{color:"white"},"& .MuiTypography-colorTextSecondary":{color:"white"},"& .MuiInputLabel-formControl":{color:"white"},"& .MuiFilledInput-input":{color:"white"}},maleButton:{backgroundColor:"hsla(208, 100%, 50%, 0.1)","&:hover":{backgroundColor:"hsla(208, 100%, 50%, 0.3)"}},femaleButton:{backgroundColor:"hsla(333, 100%, 50%, 0.1)","&:hover":{backgroundColor:"hsla(333, 100%, 50%, 0.3)"}}}}));var C=function(e){var t=e.closeModal,n=e.values,a=e.setValue,r=y();return Object(v.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(v.jsx)(d.a,{style:{width:"50%",marginRight:"5px",backgroundColor:"male"===n.gender&&"hsla(208, 100%, 50%, 0.5)"},className:r.maleButton,onClick:function(){a("gender","male")},children:"MEES"}),Object(v.jsx)(d.a,{style:{width:"50%",marginLeft:"5px",backgroundColor:"female"===n.gender&&"hsla(333, 100%, 50%, 0.5)"},className:r.femaleButton,onClick:function(){a("gender","female")},children:"NAINE"})]}),Object(v.jsx)("div",{style:{marginTop:"5%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsxs)(g.a,{style:{width:"100%"},variant:"filled",className:r.root,children:[Object(v.jsx)(x.a,{htmlFor:"filled-adornment-amount",children:"Eesnimi"}),Object(v.jsx)(O.a,{id:"filled-adornment-amount",value:n.first_name,onChange:function(e){a("first_name",e.target.value)}})]})}),Object(v.jsx)("div",{style:{marginTop:"5%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsxs)(g.a,{style:{width:"100%"},variant:"filled",className:r.root,children:[Object(v.jsx)(x.a,{htmlFor:"filled-adornment-amount",children:"Sugunimi"}),Object(v.jsx)(O.a,{id:"filled-adornment-amount",value:n.last_name,onChange:function(e){a("last_name",e.target.value)}})]})}),Object(v.jsx)("div",{style:{marginTop:"5%",marginBottom:"10%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(p.a,{style:{width:"100%"},id:"date",label:"S\xfcnnip\xe4ev",type:"date",defaultValue:"2000-01-01",value:n.born,onChange:function(e){a("born",e.target.value)},className:r.textField,InputLabelProps:{shrink:!0}})}),e.createError&&Object(v.jsx)("div",{style:{color:"#D17D00"},children:e.createError}),Object(v.jsxs)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(v.jsx)(d.a,{style:{width:"50%",backgroundColor:"#ce8e4c",marginRight:"5px"},onClick:t,children:"T\xdcHISTA"}),Object(v.jsx)(d.a,{onClick:e.handleCreate,disabled:e.createButtonDisabled,style:{width:"50%",backgroundColor:"rgb(37 146 81)",marginLeft:"5px"},children:"LOO KARAKTER"})]})]})};var w=function(e,t,n){return new Promise((function(n){fetch("https://".concat("login-menu","/nuiAction"),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({action:e,data:t})}).then((function(e){return e.json()})).then((function(e){n(e)}))}))};function _(e){return Object(v.jsx)("div",{className:"CharacterSlotMiddleText",style:{color:e.color&&e.color},children:e.children})}var S=function(){var e=r.a.useState(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],i=r.a.useState([]),c=Object(s.a)(i,2),h=c[0],m=c[1],f=r.a.useState(!0),g=Object(s.a)(f,2),x=g[0],O=g[1],p=r.a.useState(!1),y=Object(s.a)(p,2),S=y[0],k=y[1],N=r.a.useState(!0),T=Object(s.a)(N,2),I=T[0],M=T[1],D=r.a.useState(""),E=Object(s.a)(D,2),A=E[0],F=E[1],L=r.a.useState({first_name:"",last_name:"",gender:"",born:"2000-01-01"}),B=Object(s.a)(L,2),R=B[0],V=B[1];function P(){O(!0),w("fetchCharacters",[],[]).then((function(e){m(e),O(!1)}))}function K(){var e=R.first_name.length>=3&&R.first_name.length<=25,t=R.last_name.length>=3&&R.last_name.length<=25,n="female"===R.gender||"male"===R.gender,a=new Date(R.born)<new Date("2000-01-02")&&new Date(R.born)>new Date("1899-12-31");return e&&t&&n&&a}return r.a.useEffect((function(){window.addEventListener("message",(function(e){void 0!==e.data.show&&a(e.data.show)}))}),[]),r.a.useEffect((function(){n&&P()}),[n]),r.a.useEffect((function(){M(!K()),F(function(){var e=R.first_name.length>=3&&R.first_name.length<=25,t=R.last_name.length>=3&&R.last_name.length<=25,n="female"===R.gender||"male"===R.gender,a=new Date(R.born)<new Date("2000-01-02")&&new Date(R.born)>new Date("1899-12-31");return n?e?t?!a&&"Vali s\xfcnnip\xe4ev. (Peab olema vanem kui 2000)":"Vali sugunimi!":"Vali eesnimi!":"Vali sugupool!"}())}),[R]),Object(v.jsx)("div",{children:n&&Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)("div",{className:"Main",children:[x&&Object(v.jsx)("div",{className:"Spinner",children:Object(v.jsx)(b.a,{color:"white",size:15,loading:x})}),!x&&Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)("div",{className:"Top",children:Object(v.jsx)("div",{style:{padding:"1rem"},children:"Liitu meie discordiga @ https://discord.io/eternalinvite :)"})}),Object(v.jsxs)("div",{className:"Characters",children:[h.length>0&&h.map((function(e){return Object(v.jsxs)("div",{className:"CharacterSlot",children:[Object(v.jsx)("div",{className:"CharacterSlotTop",children:Object(v.jsx)(u.a,{variant:"h6",style:{color:"white"},children:e.character_name})}),Object(v.jsxs)("div",{className:"CharacterSlotMiddle",children:[Object(v.jsxs)(_,{children:["Kodaniku ID: ",e.character_id]}),e.faction&&Object(v.jsxs)(_,{children:[e.faction.group.faction_name," |"," ",e.faction.member.rank_name]}),!e.faction&&Object(v.jsx)(_,{children:"Pole Grupeeringut"}),Object(v.jsx)(_,{children:0===e.gender?"Mees":"Naine"}),Object(v.jsx)(_,{children:e.date_of_birth}),e.dead&&Object(v.jsx)(_,{color:"red",children:"HAIGLAS"}),e.prison&&Object(v.jsx)(_,{color:"red",children:"VANGLAS"})]}),Object(v.jsx)("div",{className:"CharacterSlotBottom",children:Object(v.jsx)(d.a,{style:{backgroundColor:"hsl(144, 60%, 36%)",color:"white",width:"100%",margin:"6px"},onClick:function(){var t;t=e.character_id,O(!0),w("selectCharacter",{citizen_id:t},[])},children:"M\xc4NGI"})})]})})),0===h.length&&Object(v.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Roboto",fontSize:"1.5rem",color:"white"},children:"Sul pole \xfchtegi karakteri."})]}),Object(v.jsx)("div",{className:"Bottom",children:Object(v.jsx)(d.a,{style:{backgroundColor:"hsl(144, 60%, 36%)",color:"white"},onClick:function(){k(!0)},children:"UUS KARAKTER"})}),S&&Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(j.a,{className:"Modal",isOpen:S,onRequestClose:function(){k(!1)},style:{overlay:{backgroundColor:"rgba(255, 255, 255, 0)"}},children:Object(v.jsx)("div",{className:"ModalContainer",children:Object(v.jsx)(C,{handleCreate:function(){K()&&(k(!1),w("createCharacter",{first_name:R.first_name,last_name:R.last_name,gender:R.gender,born:R.born},[]).then((function(){P()})))},createButtonDisabled:I,createError:A,closeModal:function(){k(!1)},values:R,setValue:function(e,t){"first_name"!=e&&"last_name"!=e||(t=(t=(t=t.replace(/\s+/g,"")).charAt(0).toUpperCase()+t.slice(1).toLowerCase()).replace(/[0-9]/g,"")),V(Object(o.a)(Object(o.a)({},R),{},Object(l.a)({},e,t)))}})})})})]})]})})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},N=n(53),T=n(121),I=Object(N.a)({palette:{type:"dark"}});c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(T.a,{theme:I,children:Object(v.jsx)(S,{})})}),document.getElementById("root")),k()}},[[85,1,2]]]);
//# sourceMappingURL=main.3cf53490.chunk.js.map