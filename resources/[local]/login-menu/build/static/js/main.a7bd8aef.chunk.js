(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{43:function(e,t,n){},63:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(8),i=n.n(r),c=(n(63),n(14)),o=n(38),s=n(11),d=(n(43),n(122)),u=n(49),h=n.n(u),j=n(52),m=n.n(j),b=n(115),f=n(123),g=n(124),x=n(119),O=n(121),p=n(4),v=Object(b.a)((function(e){return{root:{"& .MuiTextField-root":{color:"white"},"& .MuiTypography-colorTextSecondary":{color:"white"},"& .MuiInputLabel-formControl":{color:"white"},"& .MuiFilledInput-input":{color:"white"}},maleButton:{backgroundColor:"hsla(208, 100%, 50%, 0.1)","&:hover":{backgroundColor:"hsla(208, 100%, 50%, 0.3)"}},femaleButton:{backgroundColor:"hsla(333, 100%, 50%, 0.1)","&:hover":{backgroundColor:"hsla(333, 100%, 50%, 0.3)"}}}}));var y=function(e){var t=e.closeModal,n=e.values,a=e.setValue,l=v();return Object(p.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(p.jsx)(d.a,{style:{width:"50%",marginRight:"5px",backgroundColor:"male"===n.gender&&"hsla(208, 100%, 50%, 0.5)"},className:l.maleButton,onClick:function(){a("gender","male")},children:"MEES"}),Object(p.jsx)(d.a,{style:{width:"50%",marginLeft:"5px",backgroundColor:"female"===n.gender&&"hsla(333, 100%, 50%, 0.5)"},className:l.femaleButton,onClick:function(){a("gender","female")},children:"NAINE"})]}),Object(p.jsx)("div",{style:{marginTop:"5%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(p.jsxs)(f.a,{style:{width:"100%"},variant:"filled",className:l.root,children:[Object(p.jsx)(g.a,{htmlFor:"filled-adornment-amount",children:"Eesnimi"}),Object(p.jsx)(x.a,{id:"filled-adornment-amount",value:n.first_name,onChange:function(e){a("first_name",e.target.value)}})]})}),Object(p.jsx)("div",{style:{marginTop:"5%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(p.jsxs)(f.a,{style:{width:"100%"},variant:"filled",className:l.root,children:[Object(p.jsx)(g.a,{htmlFor:"filled-adornment-amount",children:"Perekonnanimi"}),Object(p.jsx)(x.a,{id:"filled-adornment-amount",value:n.last_name,onChange:function(e){a("last_name",e.target.value)}})]})}),Object(p.jsx)("div",{style:{marginTop:"5%",marginBottom:"10%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(p.jsx)(O.a,{style:{width:"100%"},id:"date",label:"S\xfcnnip\xe4ev",type:"date",defaultValue:"2000-01-01",value:n.born,onChange:function(e){a("born",e.target.value)},className:l.textField,InputLabelProps:{shrink:!0}})}),e.createError&&Object(p.jsx)("div",{style:{color:"#D17D00"},children:e.createError}),Object(p.jsxs)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(p.jsx)(d.a,{style:{width:"50%",backgroundColor:"#ce8e4c",marginRight:"5px"},onClick:t,children:"T\xdcHISTA"}),Object(p.jsx)(d.a,{onClick:e.handleCreate,disabled:e.createButtonDisabled,style:{width:"50%",backgroundColor:"rgb(37 146 81)",marginLeft:"5px"},children:"LOO KARAKTER"})]})]})};var C=function(e,t,n){return new Promise((function(n){fetch("https://".concat("login-menu","/nuiAction"),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({action:e,data:t})}).then((function(e){return e.json()})).then((function(e){n(e)}))}))};var _=function(){var e=l.a.useState(!0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=l.a.useState([]),i=Object(s.a)(r,2),u=(i[0],i[1]),j=l.a.useState(!0),b=Object(s.a)(j,2),f=b[0],g=b[1],x=l.a.useState(!1),O=Object(s.a)(x,2),v=O[0],_=O[1],w=l.a.useState(!0),k=Object(s.a)(w,2),S=k[0],N=k[1],T=l.a.useState(""),D=Object(s.a)(T,2),I=D[0],E=D[1],M=l.a.useState({first_name:"",last_name:"",gender:"",born:"2000-01-01"}),B=Object(s.a)(M,2),F=B[0],L=B[1],P=l.a.useState(void 0),A=Object(s.a)(P,2),R=A[0],V=A[1];function K(){V(void 0),g(!0),C("fetchCharacters",[],[{character_id:3,character_name:"Pede Homo",gender:0,date_of_birth:"1999-01-01",faction:{group:{faction_name:"LSPD"},member:{rank_name:"Chief of Police",rank_level:100}},job:"",phone_number:396543813,dead:null,prison:null},{character_id:4,character_name:"Barack Obama",gender:0,date_of_birth:"1999-01-01",faction:null,job:"",phone_number:133623245,dead:null,prison:!0},{character_id:5,character_name:"Uuga Buuga",gender:0,date_of_birth:"1992-06-31",faction:null,job:"",phone_number:133623245,dead:null,prison:null}]).then((function(e){u(e),g(!1)}))}function U(){var e=F.first_name.length>=3&&F.first_name.length<=25,t=F.last_name.length>=3&&F.last_name.length<=25,n="female"===F.gender||"male"===F.gender,a=new Date(F.born)<new Date("2000-01-02")&&new Date(F.born)>new Date("1899-12-31");return e&&t&&n&&a}return l.a.useEffect((function(){window.addEventListener("message",(function(e){void 0!==e.data.show&&a(e.data.show),void 0!==e.data.setCurrent&&V(e.data.setCurrent),void 0!==e.data.firstTime&&_(!0)}))}),[]),l.a.useEffect((function(){n&&K()}),[n]),l.a.useEffect((function(){N(!U()),E(function(){var e=F.first_name.length>=3&&F.first_name.length<=25,t=F.last_name.length>=3&&F.last_name.length<=25,n="female"===F.gender||"male"===F.gender,a=new Date(F.born)<new Date("2000-01-02")&&new Date(F.born)>new Date("1899-12-31");return n?e?t?!a&&"Vali s\xfcnnip\xe4ev. (Peab olema vanem kui 2000)":"Vali perekonnanimi!":"Vali eesnimi!":"Vali sugupool!"}())}),[F]),Object(p.jsx)("div",{children:n&&Object(p.jsx)("div",{className:"App",onMouseDown:function(e){C("click",{x:e.clientX,y:e.clientY},!0)},children:Object(p.jsxs)("div",{className:"Main",children:[f&&Object(p.jsx)("div",{className:"Spinner",children:Object(p.jsx)(m.a,{color:"white",size:15,loading:f})}),!f&&Object(p.jsxs)(l.a.Fragment,{children:[Object(p.jsx)("div",{className:"Top",style:{display:v?"none":"flex"},children:Object(p.jsx)("div",{className:"Selected",children:Object(p.jsxs)("div",{className:"SelectedInner",children:[Object(p.jsx)("div",{className:"SelectedContent",children:void 0===R?"Vali Karakter":"".concat(R.first_name," ").concat(R.last_name)}),Object(p.jsx)("div",{style:{width:"100%",height:"6px",backgroundColor:"white"}}),Object(p.jsx)("div",{className:"SelectedContent",children:Object(p.jsx)(d.a,{style:{backgroundColor:void 0!==R?"hsl(144, 60%, 36%)":"hsla(144, 60%, 36%, 0.541)",color:void 0!==R?"white":"#c0c0c0",borderRadius:"8px"},fullWidth:!0,disabled:void 0===R,onClick:function(){R.cid,g(!0),C("selectCharacter",{current:R},[])},children:"M\xc4NGI"})})]})})}),Object(p.jsx)("div",{className:"Middle"}),Object(p.jsx)("div",{className:"Bottom",style:{display:v?"none":"flex"},children:Object(p.jsx)(d.a,{style:{backgroundColor:"hsl(144, 60%, 36%)",color:"white"},onClick:function(){_(!0)},children:"UUS KARAKTER"})}),v&&Object(p.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(p.jsx)(h.a,{className:"Modal",isOpen:v,onRequestClose:function(){_(!1)},style:{overlay:{backgroundColor:"rgba(255, 255, 255, 0)"}},children:Object(p.jsx)("div",{className:"ModalContainer",children:Object(p.jsx)(y,{handleCreate:function(){U()&&(_(!1),C("createCharacter",{first_name:F.first_name,last_name:F.last_name,gender:F.gender,born:F.born},[]).then((function(){K()})))},createButtonDisabled:S,createError:I,closeModal:function(){_(!1)},values:F,setValue:function(e,t){"first_name"!=e&&"last_name"!=e||(t=(t=(t=t.replace(/\s+/g,"")).charAt(0).toUpperCase()+t.slice(1).toLowerCase()).replace(/[0-9]/g,"")),L(Object(o.a)(Object(o.a)({},F),{},Object(c.a)({},e,t)))}})})})})]})]})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,125)).then((function(t){var n=t.getCLS,a=t.getFID,l=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),l(e),r(e),i(e)}))},k=n(53),S=n(120),N=Object(k.a)({palette:{type:"dark"}});i.a.render(Object(p.jsx)(l.a.StrictMode,{children:Object(p.jsx)(S.a,{theme:N,children:Object(p.jsx)(_,{})})}),document.getElementById("root")),w()}},[[85,1,2]]]);
//# sourceMappingURL=main.a7bd8aef.chunk.js.map