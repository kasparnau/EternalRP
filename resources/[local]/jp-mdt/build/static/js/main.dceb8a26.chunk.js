(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{143:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(12),c=n.n(r),s=(n(143),n(16)),l=n.n(s),o=n(120),d=n(42),u=n(15),j=(n(55),n(130)),h=n(310),f=n(314),m=n(311),b=n(121),x=new Set,v=function(e){var t=Object(b.a)(e),n=t.getState();return x.add((function(){return t.setState(n,!0)})),t},O=v((function(e){return{character:{},setCharacter:function(t){return e((function(e){return{character:t}}))}}})),g=v((function(e){return{currentCharacterId:0,changeCurrentCharacterId:function(t){return e((function(e){return{currentCharacterId:t}}))},currentProfile:null,setCurrentProfile:function(t){return e((function(e){return{currentProfile:t}}))},searchBarValue:"",setSearchBarValue:function(t){return e((function(e){return{searchBarValue:t}}))},profileRows:[],setProfileRows:function(t){return e((function(e){return{profileRows:t}}))},currentProfileImageURL:"",setCurrentProfileImageURL:function(t){return e((function(e){return{currentProfileImageURL:t}}))},editorState:"",setEditorState:function(t){return e((function(e){return{editorState:t}}))}}})),p=v((function(e){return{bulletins:[],setBulletins:function(t){return e((function(e){return{bulletins:t}}))},warrants:[],setWarrants:function(t){return e((function(e){return{warrants:t}}))}}})),y=v((function(e){return{vehicleResults:[],setVehicleResults:function(t){return e((function(e){return{vehicleResults:t}}))},currentVehicle:null,setCurrentVehicle:function(t){return e((function(e){return{currentVehicle:t}}))},searchBarValue:"",setSearchBarValue:function(t){return e((function(e){return{searchBarValue:t}}))}}})),C=v((function(e){return{searchValue:"",setSearchValue:function(t){return e((function(e){return{searchValue:t}}))},charges:[],setCharges:function(t){return e((function(e){return{charges:t}}))},finalString:"",setFinalString:function(t){return e((function(e){return{finalString:t}}))},reduction:0,setReduction:function(t){return e((function(e){return{reduction:t}}))}}})),w=function(){x.forEach((function(e){return e()}))},k=n(129),S=n.n(k);var P=function(e,t,n){return new Promise((function(n){fetch("https://".concat("jp-mdt","/nuiAction"),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({action:e,data:t})}).then((function(e){return e.json()})).then((function(e){n(e)}))}))},T=n(62),V=n(313),A=n(1);function I(e){return Object(A.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:Object(A.jsx)("div",{style:{maxWidth:"40%"},children:e.name})})}function N(){return Object(A.jsx)("hr",{style:{borderTop:"1px dashed"}})}function _(e){var t=e.warrant;return Object(A.jsxs)("div",{className:"ListItem",onClick:e.onClick,children:[Object(A.jsx)("div",{children:t.character_name}),Object(A.jsx)("div",{style:{marginTop:"8px"},children:t.reason}),Object(A.jsx)(N,{}),Object(T.a)(new Date(1e3*t.timestamp),new Date,{includeSeconds:!0,locale:V.a})," ","tagasi"]})}function R(e){var t=e.bulletin;return Object(A.jsxs)("div",{className:"ListItem",onClick:e.onClick,children:[Object(A.jsx)("div",{children:t.title}),Object(A.jsx)("div",{style:{marginTop:"8px"},children:t.description}),Object(A.jsx)(N,{}),Object(T.a)(new Date(1e3*t.timestamp),new Date,{includeSeconds:!0,locale:V.a})," ","tagasi"]})}function D(e,t){return e.timestamp<t.timestamp?1:e.timestamp>t.timestamp?-1:0}var L=function(e){var t=Object(i.useState)(""),n=Object(u.a)(t,2),r=n[0],c=n[1],s=(g().changeCurrentCharacterId,p()),l=s.bulletins,o=s.warrants,d=s.setBulletins,j=s.setWarrants;return a.a.useEffect((function(){e.doNuiAction("fetchDashboardPage",[],{warrants:[{id:1,timestamp:1620665732,character_id:3,character_name:"Jean Pual",reason:"Really? 5 Cops for this?"}],bulletins:[{id:1,timestamp:1634485964,title:"Tazerid",description:"inimeste autodest tazeriga v\xc3\xa4lja laskmine = ban"}]},!0).then((function(e){d(e.bulletins.sort(D)),j(e.warrants.sort(D))}))}),[]),Object(A.jsxs)("div",{className:"PageMain",children:[Object(A.jsxs)("div",{className:"PageSectionContainer",style:{width:"50%",alignItems:"center"},children:[Object(A.jsx)(I,{name:"Tagaotsitavad",value:r,handleChange:function(e){c(e.target.value)}}),Object(A.jsx)("div",{className:"ListItemsContainer",children:o.map((function(e){return Object(A.jsx)(_,{warrant:e})}))})]}),Object(A.jsx)("div",{className:"PageSectionPadding"}),Object(A.jsxs)("div",{className:"PageSectionContainer",style:{width:"50%"},children:["Teadetetahvel",Object(A.jsx)("div",{className:"ListItemsContainer",children:l.map((function(e){return Object(A.jsx)(R,{bulletin:e})}))})]})]})},E=n(17),K=n(302),B=n(305),M=n(315),F=n(307),W=n(308),J=n(309),z=n(316),U=n(317),H=n(122),G=n.n(H),Y=n(123),q=n.n(Y),Q=(n(260),Object(K.a)((function(e){return{root:{"& .MuiTextField-root":{color:"white"},"& .MuiTypography-colorTextSecondary":{color:"white"},"& .MuiInputLabel-formControl":{color:"white"},"& .MuiFilledInput-input":{color:"white"}},maleButton:{backgroundColor:"hsla(208, 100%, 50%, 0.1)","&:hover":{backgroundColor:"hsla(208, 100%, 50%, 0.3)"}},femaleButton:{backgroundColor:"hsla(333, 100%, 50%, 0.1)","&:hover":{backgroundColor:"hsla(333, 100%, 50%, 0.3)"}}}})));function X(e){var t=e.closeModal,n=Q(),a=Object(i.useState)(""),r=Object(u.a)(a,2),c=r[0],s=r[1];return Object(A.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(A.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(A.jsxs)(B.a,{style:{width:"100%"},variant:"filled",className:n.root,children:[Object(A.jsx)(M.a,{htmlFor:"filled-adornment-amount",children:"P\xf5hjus"}),Object(A.jsx)(F.a,{value:c,multiline:!0,onChange:function(e){s(e.target.value)}})]})}),Object(A.jsxs)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(A.jsx)(W.a,{style:{width:"50%",backgroundColor:"#ce8e4c",marginRight:"5px"},onClick:t,children:"T\xdcHISTA"}),Object(A.jsx)(W.a,{onClick:function(){e.makeWanted(c)},style:{width:"50%",backgroundColor:"var(--red)",marginLeft:"5px"},children:"TEE TAGAOTSITAVAKS"})]})]})}function Z(){return Object(A.jsx)("hr",{style:{borderTop:"1px dashed"}})}function $(e){return Object(A.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(A.jsx)("div",{style:{maxWidth:"40%",fontSize:"1.0rem"},children:e.name}),Object(A.jsx)("div",{style:{maxWidth:"60%"},children:Object(A.jsxs)(B.a,{fullWidth:!0,children:[Object(A.jsx)(M.a,{htmlFor:"standard-adornment-amount",children:"Nimi"}),Object(A.jsx)(J.a,{style:{color:"white"},value:e.value,onChange:e.handleChange,startAdornment:Object(A.jsx)(z.a,{position:"start",children:"\ud83d\udd0d"})})]})})]})}function ee(e){return Object(A.jsx)("div",{style:{backgroundColor:"hsla(218, 31%, 12%, 0.541)",width:"100%",marginTop:e.marginTop&&"8px",color:e.color&&e.color},children:Object(A.jsxs)("div",{style:{padding:"8px"},children:[Object(A.jsx)("div",{style:{marginBottom:"8px"},children:e.name}),Object(A.jsx)("div",{children:e.children})]})})}function te(e){var t=e.profile;return Object(A.jsxs)("div",{className:"ListItem",onClick:e.onClick,children:[Object(A.jsx)("div",{children:t.character_name}),Object(A.jsxs)("div",{style:{marginTop:"8px",fontSize:"12px"},children:["ID: ",t.character_id]})]})}var ne=function(e){var t=g(),n=t.profileRows,r=t.setProfileRows,c=g(),s=c.searchBarValue,l=c.setSearchBarValue,o=g(),d=o.changeCurrentCharacterId,j=o.currentCharacterId,h=g(),f=h.setCurrentProfile,m=h.currentProfile,b=g(),x=b.currentProfileImageURL,v=b.setCurrentProfileImageURL,O=g(),p=O.editorState,y=O.setEditorState,C=Object(i.useState)(!1),w=Object(u.a)(C,2),k=w[0],S=w[1];function P(){S(!1)}a.a.useEffect((function(){if(0!==j){if((null===m||void 0===m?void 0:m.character_id)===j)return;e.doNuiAction("fetchProfileData",{character_id:j},{character_id:3,character_name:"Juhan Kallas",profile_image_url:"https://i.imgur.com/LExuDrt.png",born:"1999-01-01",faction_name:"LSPD",description:"LOL",vehicles:[{plate:"ABCD1234",model:"Sultan MK2"},{plate:"ABCD1235",model:"Futo"},{plate:"ABCD1236",model:"Nigga"}],housing:[],priors:[],licenses:[]}).then((function(e){v(e.profile_image_url?e.profile_image_url:""),e.description?y(e.description):y(""),f(e)}))}}),[j]);var I=a.a.useRef(0);return a.a.useEffect((function(){I.current=I.current+1;var t=I.current;setTimeout((function(){I.current===t&&s.length>=1?e.doNuiAction("getProfileResults",{query:s},[{character_id:1,character_name:"Jean Paul"},{character_id:2,character_name:"Indrek"}],!0).then((function(e){r(e)})):r([])}),200)}),[s]),Object(A.jsxs)("div",{className:"PageMain",children:[Object(A.jsxs)("div",{className:"PageSectionContainer",style:{width:"25%",alignItems:"center",minWidth:"150px",maxWidth:"250px"},children:[Object(A.jsx)($,{name:"Profiilid",value:s,handleChange:function(e){l(e.target.value)}}),Object(A.jsx)("div",{className:"ListItemsContainer",children:n.map((function(e){return Object(A.jsx)(te,{profile:e,onClick:function(){d(e.character_id)}})}))})]}),Object(A.jsx)("div",{className:"PageSectionPadding"}),Object(A.jsxs)("div",{className:"PageSectionContainer",style:{width:"100%"},children:[!m&&Object(A.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"Profiili Pole Valitud"}),m&&Object(A.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex"},children:[Object(A.jsxs)("div",{style:{width:"55%",height:"100%",marginRight:"16px",display:"flex",flexDirection:"column"},children:[Object(A.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start"},children:[Object(A.jsx)("div",{children:"Profiil"}),Object(A.jsx)("div",{style:{width:"100%",marginLeft:"4px",display:"flex",justifyContent:"flex-end"},children:Object(A.jsxs)("div",{children:[Object(A.jsx)(W.a,{style:{backgroundColor:"var(--yellow)",marginRight:"8px"},children:"TRAHVID"}),!m.warrant&&Object(A.jsx)(W.a,{style:{backgroundColor:"var(--red)",marginRight:"8px"},onClick:function(){S("Wanted")},children:"TEE TAGAOTSITAVAKS"}),!!m.warrant&&Object(A.jsx)(W.a,{style:{backgroundColor:"var(--red)",marginRight:"8px"},onClick:function(){e.doNuiAction("removeWarrant",{character_id:m.character_id},!0,!0).then((function(e){e&&f(Object(E.a)(Object(E.a)({},m),{},{warrant:!1}))}))},children:"EEMALDA TAGAOTSITAVUS"}),Object(A.jsx)(W.a,{style:{backgroundColor:"var(--green)"},onClick:function(){x===m.profile_image_url&&p===m.description||e.doNuiAction("updateProfile",{profile_image_url:x,description:p,character_id:m.character_id},!0,!0).then((function(e){e&&f(Object(E.a)(Object(E.a)({},m),{},{profile_image_url:x,description:p,character_id:m.character_id}))}))},children:"SALVESTA"})]})})]}),Object(A.jsxs)("div",{style:{marginTop:"16px",display:"flex"},children:[Object(A.jsx)("div",{style:{height:"100%",width:"8vw"},children:Object(A.jsx)("img",{src:m.profile_image_url?m.profile_image_url:"https://i.imgur.com/CnRussR.jpg",style:{width:"8vw",height:"8vw",objectFit:"contain"}})}),Object(A.jsxs)("div",{style:{marginLeft:"8px",width:"100%"},children:[Object(A.jsxs)("div",{children:["Nimi: ",m.character_name]}),Object(A.jsxs)("div",{children:["S\xfcndinud: ",m.born]}),Object(A.jsxs)("div",{children:["Kodaniku ID:"," ",m.character_id]}),Object(A.jsxs)("div",{children:[m.faction_name&&Object(A.jsxs)("div",{children:["Grupeering:"," ",m.faction_name]}),!m.faction_name&&Object(A.jsx)("div",{children:"Pole Grupeeringut"})]}),Object(A.jsx)("div",{style:{marginTop:"8px",maxWidth:"90%"},children:Object(A.jsxs)(B.a,{fullWidth:!0,children:[Object(A.jsx)(M.a,{htmlFor:"standard-adornment-amount",children:"Profiilipildi URL"}),Object(A.jsx)(J.a,{style:{color:"white"},value:x,onChange:function(e){v(e.target.value)}})]})})]})]}),Object(A.jsx)("div",{style:{paddingTop:"16px"}}),Object(A.jsx)("div",{style:{fontFamily:"Roboto",backgroundColor:"var(--dark)",overflowY:"hidden"},children:Object(A.jsx)(q.a,{style:{color:"white",height:"600px",overflowWrap:"anywhere",wordBreak:"break-all",border:"0 !important"},value:p,onChange:function(e){y(e)},placeholder:"Description about person",onKeyDown:function(e){var t="KeyA"==e.code&&e.ctrlKey;p.length>=2e3&&"Backspace"!==e.key&&!1===t&&e.preventDefault()}})})]}),Object(A.jsxs)("div",{style:{width:"45%",height:"100%",overflowY:"auto"},children:[!!m.warrant&&Object(A.jsx)(ee,{name:"ISIK ON TAGAOTSITAV",color:"red",children:Object(A.jsxs)("div",{style:{fontSize:"0.88rem",color:"white"},children:[Object(A.jsx)("div",{children:m.warrant.reason}),Object(A.jsx)(Z,{}),Object(A.jsxs)("div",{children:[Object(T.a)(new Date(1e3*m.warrant.last_update),new Date,{includeSeconds:!0,locale:V.a})," ","tagasi"]})]})}),Object(A.jsx)(ee,{name:"Load",marginTop:!0,children:m.licenses&&m.licenses.map((function(t){return console.log(JSON.stringify(t)),Object(A.jsx)(U.a,{style:{margin:"2px"},label:"".concat(t.license_name),onDelete:function(){!function(t){console.log("Delete: "+t),e.doNuiAction("removeLicense",{character_id:m.character_id,license:t},[],!0).then((function(e){if(e){var n=m.licenses.filter((function(e){return e.id!==t}));f(Object(E.a)(Object(E.a)({},m),{},{licenses:n}))}}))}(t.id)}})}))}),Object(A.jsx)(ee,{name:"S\xf5idukid",marginTop:!0,children:m.vehicles&&m.vehicles.map((function(e){return Object(A.jsx)(U.a,{style:{margin:"2px"},label:"".concat(e.plate," - ").concat(e.model)})}))}),Object(A.jsx)(ee,{name:"Kinnisvara",marginTop:!0,children:m.housing&&m.housing.map((function(e){return Object(A.jsx)(U.a,{style:{margin:"2px"},label:"".concat(e.street)})}))}),Object(A.jsx)(ee,{name:"Eelnevad Karistused",marginTop:!0,children:m.priors&&m.priors.map((function(e){return Object(A.jsx)(U.a,{style:{margin:"2px"},label:"(".concat(e.count,") ").concat(e.name)})}))})]})]})]}),k&&Object(A.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(A.jsx)(G.a,{className:"Modal",isOpen:!!k,onRequestClose:P,style:{overlay:{backgroundColor:"rgba(255, 255, 255, 0)"}},children:Object(A.jsx)("div",{className:"ModalContainer",children:Object(A.jsx)(X,{closeModal:P,makeWanted:function(t){S(!1),e.doNuiAction("makeWanted",{character_id:m.character_id,reason:t},!0,!0).then((function(e){e&&f(Object(E.a)(Object(E.a)({},m),{},{warrant:{reason:t,last_update:Date.now()/1e3}}))}))}})})})})]})},ie=n(49),ae=n(92),re=n(312),ce=n(318),se=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),le={OffensesAgainstPersons:[{name:"Tulirelvaga Vehkimine",jail:7,fine:525,color:1},{name:"R\xfcndamine & L\xf6\xf6mine",jail:11,fine:825,color:1},{name:"Ebaseaduslikult Vangistamine",jail:11,fine:825,color:1},{name:"Hoolimatu Ohustamine",jail:11,fine:825,color:1},{name:"Kriminaalne \xc4hvardamine",jail:14,fine:1050,color:1},{name:"Inimr\xf6\xf6vimine",jail:15,fine:1050,color:2},{name:"Riigiametniku Inimr\xf6\xf6vimine",jail:30,fine:3500,color:2},{name:"R\xfcnnak Surmava Relvaga",jail:21,fine:1575,color:2},{name:"Teise Astme M\xf5rva Katse",jail:25,fine:1875,color:2},{name:"Teise Astme M\xf5rv",jail:300,fine:22500,color:2},{name:"Esimese Astme M\xf5rva Katse",jail:35,fine:2625,color:2},{name:"Riigiametniku M\xf5rva Katse",jail:45,fine:3375,color:2},{name:"Gangi Seotud Tulistamine",jail:75,fine:500,color:2},{name:"Ettekavatsemata Tapmine",jail:150,fine:11250,color:3},{name:"Esimese Astme M\xf5rv",jail:450,fine:33500,color:3},{name:"Riigiametniku M\xf5rv",jail:600,fine:45850,color:3},{name:"Sarir\xfcnnakud ja Tapmised",jail:99999,fine:0,color:3}],OffensesInvolvingVehicles:[{name:"Hooletu Juhtimine",jail:0,fine:525,color:1},{name:"L\xf5busoit",jail:5,fine:800,color:1},{name:"Kiiruse\xfcletamine 1-25 km/h",jail:0,fine:140,color:1},{name:"Kiiruse\xfcletamine 25-40 km/h",jail:0,fine:280,color:1},{name:"Kiiruse\xfcletamine 40-60 km/h",jail:0,fine:500,color:1},{name:"Kiiruse\xfcletamine 60-100 km/h",jail:0,fine:950,color:1},{name:"Kiiruse\xfcletamine 100+ km/h",jail:7,fine:1250,color:2},{name:"R\xfcnnak S\xf5idukiga",jail:21,fine:1575,color:2},{name:"Hoolimatu Juhtimine",jail:12,fine:900,color:2}],GeneralTrafficViolations:[{name:"Liikusm\xe4rkide Eiramine",jail:0,fine:150,color:1},{name:"Sobimatu Akna Toon",jail:0,fine:250,color:1},{name:"Valel Pool Teed S\xf5itmine",jail:0,fine:300,color:1},{name:"Ebaseaduslik Parkimine",jail:0,fine:500,color:1}],OffensesInvolvingTheft:[{name:"Pisivargus",jail:0,fine:250,color:1},{name:"Autovargus",jail:5,fine:375,color:1},{name:"Varastatud Kauba Vastuv\xf5tmine",jail:12,fine:1300,color:2},{name:"Sissemurdmine",jail:13,fine:1450,color:2},{name:"Varastatud Kaupade M\xfc\xfcmine",jail:24,fine:2600,color:2},{name:"R\xf6\xf6vimine",jail:25,fine:3e3,color:2},{name:"Esimese Astme R\xf6\xf6vimine",jail:35,fine:3550,color:3}],OffensesInvolvingDamageToProperty:[{name:"Trespassing",jail:0,fine:400,color:0},{name:"Felony Trespassing",jail:12,fine:900,color:2},{name:"S\xfc\xfctamine",jail:21,fine:1575,color:2}],OffensesInvolvingFraud:[{name:"Pettus",jail:15,fine:1e3,color:2},{name:"V\xe4ljapressimine",jail:15,fine:1e3,color:2},{name:"Identiteedi Vargus",jail:15,fine:1500,color:2},{name:"Altk\xe4emaks",jail:20,fine:2e3,color:2},{name:"Rahapesu",jail:30,fine:2900,color:2}],OffensesAgainstPublicSafety:[{name:"Rahu H\xe4irimine",jail:0,fine:375,color:1},{name:"Vahistamisele Vastupanu Osutamine",jail:5,fine:700,color:1},{name:"Taseri Kriminaalne Omamine",jail:15,fine:1575,color:2},{name:"Tulirelva Kriminaalne Omamine",jail:20,fine:2150,color:2},{name:"Terrorism",jail:600,fine:17850,color:3}],OffensesAgainstPublicOrder:[{name:"Riigiametniku S\xf5nakuulmatus",jail:7,fine:500,color:1},{name:"Ahistamine",jail:7,fine:600,color:1},{name:"Loomade Julmus",jail:7,fine:600,color:1},{name:"\xd5igluse Takistamine",jail:12,fine:990,color:1}],OffensesAgainstPublicHealth:[{name:"Prostitutsioon",jail:3,fine:350,color:1},{name:"Avalik Ebas\xfcndsus",jail:5,fine:500,color:1},{name:"Illegaalsete Ainete Omamine",jail:7,fine:750,color:1},{name:"Narkootikumide M\xfc\xfcmine",jail:25,fine:2300,color:2}]},oe=function(e){var t,n=e.name,i=e.jail,r=e.fine,c=e.color,s=e.searchValue,l=e.onClick;switch(c){case 1:t="var(--green)";break;case 2:t="var(--yellow)";break;case 3:t="var(--dark-red)";break;default:t="var(--green)"}var o=!s||n.toLowerCase().includes(s.toLowerCase());return Object(A.jsx)(a.a.Fragment,{children:o&&Object(A.jsx)(m.a.div,{whileHover:{opacity:.7,transition:{duration:.1}},style:Object(E.a)({cursor:"pointer",width:"320px",height:"auto",margin:"2px",backgroundColor:t,fontSize:"14px",fontFamily:"Roboto"},e.style),onClick:function(){return l(n,i,r,c)},children:Object(A.jsxs)("div",{style:{padding:"8px"},children:[Object(A.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:n}),Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px"},children:[Object(A.jsxs)("div",{children:[i," kuu(d)"]}),Object(A.jsx)("div",{children:se.format(r)})]})]})})})},de=function(e){var t=e.name,n=e.options,i=e.searchValue,r=e.addCharge,c=a.a.useState(!0),s=Object(u.a)(c,2),l=s[0],o=s[1];return a.a.useEffect((function(){for(var e=0;e<n.length;e++)if(n[e].name.toLowerCase().includes(i.toLowerCase()))return void o(!0);o(!1)}),[i]),Object(A.jsxs)("div",{style:{margin:"8px",display:l?"block":"none"},children:[Object(A.jsx)("div",{children:t}),Object(A.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",width:"100%",flexWrap:"wrap",marginTop:"8px"},children:n.map((function(e){return Object(A.jsx)("div",{children:Object(A.jsx)(oe,Object(E.a)(Object(E.a)({},e),{},{searchValue:i,onClick:r}))})}))})]})},ue=function(e){var t=e.searchValue,n=e.setSearchValue;return Object(A.jsx)("div",{children:Object(A.jsxs)(B.a,{fullWidth:!0,children:[Object(A.jsx)(M.a,{htmlFor:"standard-adornment-amount",children:"Otsi"}),Object(A.jsx)(J.a,{style:{color:"white"},value:t,onChange:function(e){n(e.target.value)}})]})})},je=function(e){var t,n=g(),i=n.setCurrentProfile,r=n.currentProfile,c=C(),s=c.searchValue,l=c.setSearchValue,o=C(),d=o.charges,j=o.setCharges,h=o.finalString,f=o.setFinalString,m=C(),b=m.reduction,x=m.setReduction,v=function(){var e=d.reduce((function(e,t){return e+t.fine}),0),t=d.reduce((function(e,t){return e+t.jail}),0);if(b>0){var n=b/100;t=Math.round(t*(1-n)),e=Math.round(e+e*n)}return[e,t]};a.a.useEffect((function(){!function(){var e=v(),t=Object(u.a)(e,2),n=t[0],i=t[1];f("".concat(i," months | ").concat(se.format(n)," fine"))}()}),[d,b]);var O=function(e,t,n,i){j([].concat(Object(ae.a)(d),[{name:e,jail:t,fine:n,color:i}]))};return Object(A.jsx)("div",{className:"PageMain",children:r?Object(A.jsxs)(a.a.Fragment,{children:[Object(A.jsxs)("div",{className:"PageSectionContainer",style:Object(ie.a)({width:"100%",display:"flex",flexDirection:"column"},"width","".concat(70,"%")),children:[Object(A.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(A.jsx)("div",{children:"Lisa S\xfc\xfcdistusi"}),Object(A.jsx)("div",{children:Object(A.jsx)(ue,{searchValue:s,setSearchValue:l})})]}),Object(A.jsxs)("div",{style:{backgroundColor:"var(--dark)",height:"100%",marginTop:"8px",display:"flex",flexDirection:"column",overflowY:"scroll"},children:[Object(A.jsx)(de,{name:"Kuriteod Isikute Vastu",options:le.OffensesAgainstPersons,searchValue:s,addCharge:O}),Object(A.jsx)(de,{name:"Kuriteod Seotud S\xf5idukitega",options:le.OffensesInvolvingVehicles,searchValue:s,addCharge:O}),Object(A.jsx)(de,{name:"\xdcldised Liiklusrikkumised",options:le.GeneralTrafficViolations,searchValue:s,addCharge:O}),Object(A.jsx)(de,{name:"Kuriteod Seotud Vargusega",options:le.OffensesInvolvingTheft,searchValue:s,addCharge:O}),Object(A.jsx)(de,{name:"Kuriteod Seotud Pettustega",options:le.OffensesInvolvingFraud,searchValue:s,addCharge:O}),Object(A.jsx)(de,{name:"Kuriteod Seotud Avaliku Turvalisusega",options:le.OffensesAgainstPublicSafety,searchValue:s,addCharge:O}),Object(A.jsx)(de,{name:"Kuriteod Avaliku Korra Vastu",options:le.OffensesAgainstPublicOrder,searchValue:s,addCharge:O}),Object(A.jsx)(de,{name:"Kuriteod Rahvatervise Vastu",options:le.OffensesAgainstPublicHealth,searchValue:s,addCharge:O})]})]}),Object(A.jsx)("div",{className:"PageSectionPadding"}),Object(A.jsxs)("div",{className:"PageSectionContainer",style:(t={width:"100%",display:"flex",flexDirection:"column"},Object(ie.a)(t,"width","".concat(30,"%")),Object(ie.a)(t,"overflowY","auto"),t),children:[Object(A.jsxs)("div",{children:[null===r||void 0===r?void 0:r.character_name," (#",null===r||void 0===r?void 0:r.character_id,")"]}),Object(A.jsxs)("div",{style:{marginTop:"8px",height:"100%",display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[Object(A.jsx)("div",{style:{backgroundColor:"var(--dark)"},children:Object(A.jsxs)("div",{style:{padding:"8px"},children:[Object(A.jsxs)("div",{children:["Praegused S\xfc\xfcdistused (",d.length,")"]}),Object(A.jsx)("div",{style:{fontSize:"14px",fontFamily:"Roboto",height:"350px",overflowY:"auto"},children:d.map((function(e,t){return Object(A.jsx)(oe,Object(E.a)(Object(E.a)({},e),{},{style:{margin:"0px",marginTop:"4px",width:"100%"},onClick:function(){!function(e,t){var n=Object(ae.a)(d);n.splice(t,1),j(n)}(e.name,t)}}))}))})]})}),Object(A.jsx)("div",{children:d.length>0&&Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{children:"V\xe4hendused"}),Object(A.jsxs)(re.a,{style:{width:"100%"},labelId:"demo-simple-select-placeholder-label-label",value:b,onChange:function(e){console.log(e.target.value),x(e.target.value)},displayEmpty:!0,children:[Object(A.jsx)(ce.a,{value:0,children:"0%"},0),Object(A.jsx)(ce.a,{value:10,children:"10%"},1),Object(A.jsx)(ce.a,{value:25,children:"25%"},2),Object(A.jsx)(ce.a,{value:50,children:"50%"},3)]}),Object(A.jsx)("div",{style:{marginTop:"8px"},children:"Total"}),Object(A.jsx)("div",{children:h}),Object(A.jsx)(W.a,{style:{backgroundColor:"var(--red)",width:"100%",marginTop:"16px"},onClick:function(){var t=v(),n=Object(u.a)(t,2),a=n[0],c=n[1];e.doNuiAction("chargePlayer",{citizen_id:r.character_id,charges:d.map((function(e){return e.name})),totalFine:a,totalJail:c},!0,!1).then((function(e){e?(j([]),i(!1),x(0)):console.log("RIP FAILED?")}))},children:"Karista"})]})})]})]})]}):Object(A.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"Profiili Pole Valitud (Vali Profiilide Lehelt)"})})};function he(e){return Object(A.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(A.jsx)("div",{style:{maxWidth:"40%",fontSize:"1.0rem"},children:e.name}),Object(A.jsx)("div",{style:{maxWidth:"60%"},children:Object(A.jsxs)(B.a,{fullWidth:!0,children:[Object(A.jsx)(M.a,{htmlFor:"standard-adornment-amount",children:"Numbrim\xe4rk"}),Object(A.jsx)(J.a,{style:{color:"white"},value:e.value,onChange:e.handleChange,startAdornment:Object(A.jsx)(z.a,{position:"start",children:"\ud83d\ude98"})})]})})]})}function fe(e){var t=e.vehicle,n=e.click;return Object(A.jsxs)(W.a,{className:"ListItemButton",style:{backgroundColor:"var(--dark)",marginTop:"4px"},onClick:n,children:[t.plate," - ",t.model]})}var me=function(e){var t=g().changeCurrentCharacterId,n=y(),i=n.searchBarValue,r=n.setSearchBarValue,c=n.vehicleResults,s=n.setVehicleResults,o=n.currentVehicle,u=n.setCurrentVehicle,j=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.doNuiAction("getVehicleResults",{query:n},[{plate:"ABCD1234",model:"Bati 801RR"},{plate:"ABCD1235",model:"Bati 802RR"}],!0));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.doNuiAction("getVehicleData",{vin:n},{vin:1,plate:"blabla",owner_id:3,owner_name:"Jean Paul",model:"801BatiRR",created_at:1621274228},!0));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=a.a.useRef(0);a.a.useEffect((function(){f.current=f.current+1;var e=f.current;setTimeout(Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(f.current===e&&i.length>=1)){t.next=8;break}return t.t0=s,t.next=4,j(i);case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=9;break;case 8:s([]);case 9:case"end":return t.stop()}}),t)}))),200)}),[i]);var m=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,h(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:"PageMain",children:[Object(A.jsxs)("div",{className:"PageSectionContainer",style:{width:"25%",alignItems:"center",minWidth:"150px",maxWidth:"250px"},children:[Object(A.jsx)(he,{name:"S\xf5idukid",value:i,handleChange:function(e){r(e.target.value)}}),Object(A.jsx)("div",{className:"ListItemsContainer",children:c.map((function(e){return Object(A.jsx)(fe,{vehicle:e,click:function(){m(e.vin)}})}))})]}),Object(A.jsx)("div",{className:"PageSectionPadding"}),Object(A.jsxs)("div",{className:"PageSectionContainer",style:{width:"100%"},children:[!o&&Object(A.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"S\xf5idukit Pole Valitud"}),o&&Object(A.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[Object(A.jsxs)("div",{children:["S\xf5iduki Omanik:"," ",Object(A.jsx)(W.a,{style:{backgroundColor:"var(--dark)"},onClick:function(){e.setPage("Profiles"),t(o.owner_id)},children:o.owner_name})]}),Object(A.jsxs)("div",{children:["Numbrim\xe4rk: ",o.plate]}),Object(A.jsxs)("div",{style:{marginTop:"8px"},children:["Mudel: ",o.model]}),Object(A.jsxs)("div",{style:{marginTop:"8px"},children:["VIN: ",o.vin]}),Object(A.jsxs)("div",{style:{marginTop:"8px"},children:["Registreeritud:"," ",new Date(1e3*o.created_at).toLocaleDateString("en-US")]})]})]})]})};function be(e){var t=Object(i.useState)(!1),n=Object(u.a)(t,2);n[0],n[1];return Object(A.jsx)(W.a,{className:"SidebarButton",onClick:function(){e.onClick(e.name)},style:{backgroundColor:e.currentPage===e.name?"#30455f":"var(--dark)",width:"100%",borderRadius:"0px"},size:"large",children:e.name})}var xe=function(e){return Object(A.jsx)(f.a,{children:Object(A.jsx)(m.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{height:"100%",width:"100%"},children:e.children})})},ve=Object(j.a)({palette:{type:"dark"}}),Oe=["Dashboard","Profiilid","S\xfc\xfcdistused","S\xf5idukid"];var ge=function(){var e=Object(i.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)("Dashboard"),s=Object(u.a)(c,2),j=s[0],b=s[1],x=Object(i.useState)(!1),v=Object(u.a)(x,2),g=v[0],p=v[1],y=O().setCharacter;function C(e,t,n,i){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(l.a.mark((function e(t,n,i,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||p(!0),e.next=3,P(t,n,i);case 3:return r=e.sent,a||p(!1),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){window.addEventListener("message",(function(e){void 0!==e.data.show&&r(e.data.show),void 0!==e.data.character&&y(e.data.character),void 0!==e.data.resetData&&w()})),window.addEventListener("keydown",(function(e){"Escape"===e.key&&P("closeNui",{},(function(){}))}))}),[]);var T,V=[],I=Object(o.a)(Oe);try{for(I.s();!(T=I.n()).done;){var N=T.value,_=Object(A.jsx)(be,{name:N,onClick:b,currentPage:j});V.push(_)}}catch(R){I.e(R)}finally{I.f()}return Object(A.jsx)("div",{className:"AppHolder",children:Object(A.jsx)(f.a,{children:n&&Object(A.jsx)(m.a.div,{className:"App",initial:{scaleY:0},exit:{scaleY:0},transition:{duration:.2},animate:n?"open":"closed",variants:{open:{scaleY:1},closed:{scaleY:0}},children:Object(A.jsxs)(h.a,{theme:ve,children:[Object(A.jsx)("div",{className:"Topbar",children:"MDT"}),g&&Object(A.jsx)("div",{className:"Main",children:Object(A.jsx)("div",{className:"Spinner",children:Object(A.jsx)(S.a,{color:"white",size:15,loading:g})})}),Object(A.jsxs)("div",{className:"Main",style:{display:g?"none":"flex"},children:[Object(A.jsx)("div",{className:"Sidebar",children:V}),Object(A.jsxs)("div",{className:"Container",children:["Dashboard"===j&&Object(A.jsx)(xe,{children:Object(A.jsx)(L,{doNuiAction:C,setPage:b})}),"Profiilid"===j&&Object(A.jsx)(xe,{children:Object(A.jsx)(ne,{doNuiAction:C,setPage:b})}),"S\xfc\xfcdistused"===j&&Object(A.jsx)(xe,{children:Object(A.jsx)(je,{doNuiAction:C,setPage:b})}),"S\xf5idukid"===j&&Object(A.jsx)(xe,{children:Object(A.jsx)(me,{doNuiAction:C,setPage:b})})]})]})]})})})})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,319)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))};c.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(ge,{})}),document.getElementById("root")),pe()},55:function(e,t,n){}},[[272,1,2]]]);
//# sourceMappingURL=main.dceb8a26.chunk.js.map