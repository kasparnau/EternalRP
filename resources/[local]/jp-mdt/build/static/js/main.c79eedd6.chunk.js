(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{143:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(12),c=n.n(r),l=(n(143),n(16)),s=n.n(l),o=n(121),d=n(42),u=n(15),j=(n(55),n(130)),h=n(311),m=n(315),f=n(312),b=n(129),x=n.n(b);var v=function(e,t,n){return new Promise((function(n){fetch("https://".concat("jp-mdt","/nuiAction"),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({action:e,data:t})}).then((function(e){return e.json()})).then((function(e){n(e)}))}))},O=n(63),g=Object(O.a)((function(e){return{currentCharacterId:0,changeCurrentCharacterId:function(t){return e((function(e){return{currentCharacterId:t}}))},currentProfile:null,setCurrentProfile:function(t){return e((function(e){return{currentProfile:t}}))},searchBarValue:"",setSearchBarValue:function(t){return e((function(e){return{searchBarValue:t}}))},profileRows:[],setProfileRows:function(t){return e((function(e){return{profileRows:t}}))},currentProfileImageURL:"",setCurrentProfileImageURL:function(t){return e((function(e){return{currentProfileImageURL:t}}))},editorState:"",setEditorState:function(t){return e((function(e){return{editorState:t}}))}}})),p=Object(O.a)((function(e){return{bulletins:[],setBulletins:function(t){return e((function(e){return{bulletins:t}}))},warrants:[],setWarrants:function(t){return e((function(e){return{warrants:t}}))}}})),y=Object(O.a)((function(e){return{vehicleResults:[],setVehicleResults:function(t){return e((function(e){return{vehicleResults:t}}))},currentVehicle:null,setCurrentVehicle:function(t){return e((function(e){return{currentVehicle:t}}))},searchBarValue:"",setSearchBarValue:function(t){return e((function(e){return{searchBarValue:t}}))}}})),C=Object(O.a)((function(e){return{searchValue:"",setSearchValue:function(t){return e((function(e){return{searchValue:t}}))},charges:[],setCharges:function(t){return e((function(e){return{charges:t}}))},finalString:"",setFinalString:function(t){return e((function(e){return{finalString:t}}))},reduction:0,setReduction:function(t){return e((function(e){return{reduction:t}}))}}})),w=n(62),k=n(314),S=n(1);function P(e){return Object(S.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:Object(S.jsx)("div",{style:{maxWidth:"40%"},children:e.name})})}function T(){return Object(S.jsx)("hr",{style:{borderTop:"1px dashed"}})}function V(e){var t=e.warrant;return Object(S.jsxs)("div",{className:"ListItem",onClick:e.onClick,children:[Object(S.jsx)("div",{children:t.character_name}),Object(S.jsx)("div",{style:{marginTop:"8px"},children:t.reason}),Object(S.jsx)(T,{}),Object(w.a)(new Date(1e3*t.timestamp),new Date,{includeSeconds:!0,locale:k.a})," ","tagasi"]})}function A(e){var t=e.bulletin;return Object(S.jsxs)("div",{className:"ListItem",onClick:e.onClick,children:[Object(S.jsx)("div",{children:t.title}),Object(S.jsx)("div",{style:{marginTop:"8px"},children:t.description}),Object(S.jsx)(T,{}),Object(w.a)(new Date(1e3*t.timestamp),new Date,{includeSeconds:!0,locale:k.a})," ","tagasi"]})}function I(e,t){return e.timestamp<t.timestamp?1:e.timestamp>t.timestamp?-1:0}var N=function(e){var t=Object(i.useState)(""),n=Object(u.a)(t,2),r=n[0],c=n[1],l=(g().changeCurrentCharacterId,p()),s=l.bulletins,o=l.warrants,d=l.setBulletins,j=l.setWarrants;return a.a.useEffect((function(){e.doNuiAction("fetchDashboardPage",[],{warrants:[{id:1,timestamp:1620665732,character_id:3,character_name:"Jean Pual",reason:"Really? 5 Cops for this?"}],bulletins:[{id:1,timestamp:1634485964,title:"Tazerid",description:"inimeste autodest tazeriga v\xc3\xa4lja laskmine = ban"}]},!0).then((function(e){d(e.bulletins.sort(I)),j(e.warrants.sort(I))}))}),[]),Object(S.jsxs)("div",{className:"PageMain",children:[Object(S.jsxs)("div",{className:"PageSectionContainer",style:{width:"50%",alignItems:"center"},children:[Object(S.jsx)(P,{name:"Tagaotsitavad",value:r,handleChange:function(e){c(e.target.value)}}),Object(S.jsx)("div",{className:"ListItemsContainer",children:o.map((function(e){return Object(S.jsx)(V,{warrant:e})}))})]}),Object(S.jsx)("div",{className:"PageSectionPadding"}),Object(S.jsxs)("div",{className:"PageSectionContainer",style:{width:"50%"},children:["Teadetetahvel",Object(S.jsx)("div",{className:"ListItemsContainer",children:s.map((function(e){return Object(S.jsx)(A,{bulletin:e})}))})]})]})},R=n(33),_=n(303),L=n(306),D=n(316),K=n(308),E=n(309),B=n(310),M=n(317),F=n(318),W=n(122),J=n.n(W),z=n(123),U=n.n(z),H=(n(260),Object(_.a)((function(e){return{root:{"& .MuiTextField-root":{color:"white"},"& .MuiTypography-colorTextSecondary":{color:"white"},"& .MuiInputLabel-formControl":{color:"white"},"& .MuiFilledInput-input":{color:"white"}},maleButton:{backgroundColor:"hsla(208, 100%, 50%, 0.1)","&:hover":{backgroundColor:"hsla(208, 100%, 50%, 0.3)"}},femaleButton:{backgroundColor:"hsla(333, 100%, 50%, 0.1)","&:hover":{backgroundColor:"hsla(333, 100%, 50%, 0.3)"}}}})));function G(e){var t=e.closeModal,n=H(),a=Object(i.useState)(""),r=Object(u.a)(a,2),c=r[0],l=r[1];return Object(S.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(S.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(S.jsxs)(L.a,{style:{width:"100%"},variant:"filled",className:n.root,children:[Object(S.jsx)(D.a,{htmlFor:"filled-adornment-amount",children:"P\xf5hjus"}),Object(S.jsx)(K.a,{value:c,multiline:!0,onChange:function(e){l(e.target.value)}})]})}),Object(S.jsxs)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(S.jsx)(E.a,{style:{width:"50%",backgroundColor:"#ce8e4c",marginRight:"5px"},onClick:t,children:"T\xdcHISTA"}),Object(S.jsx)(E.a,{onClick:function(){e.makeWanted(c)},style:{width:"50%",backgroundColor:"var(--red)",marginLeft:"5px"},children:"TEE TAGAOTSITAVAKS"})]})]})}function Y(){return Object(S.jsx)("hr",{style:{borderTop:"1px dashed"}})}function q(e){return Object(S.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(S.jsx)("div",{style:{maxWidth:"40%",fontSize:"1.0rem"},children:e.name}),Object(S.jsx)("div",{style:{maxWidth:"60%"},children:Object(S.jsxs)(L.a,{fullWidth:!0,children:[Object(S.jsx)(D.a,{htmlFor:"standard-adornment-amount",children:"Nimi"}),Object(S.jsx)(B.a,{style:{color:"white"},value:e.value,onChange:e.handleChange,startAdornment:Object(S.jsx)(M.a,{position:"start",children:"\ud83d\udd0d"})})]})})]})}function Q(e){return Object(S.jsx)("div",{style:{backgroundColor:"hsla(218, 31%, 12%, 0.541)",width:"100%",marginTop:e.marginTop&&"8px",color:e.color&&e.color},children:Object(S.jsxs)("div",{style:{padding:"8px"},children:[Object(S.jsx)("div",{style:{marginBottom:"8px"},children:e.name}),Object(S.jsx)("div",{children:e.children})]})})}function X(e){var t=e.profile;return Object(S.jsxs)("div",{className:"ListItem",onClick:e.onClick,children:[Object(S.jsx)("div",{children:t.character_name}),Object(S.jsxs)("div",{style:{marginTop:"8px",fontSize:"12px"},children:["ID: ",t.character_id]})]})}var Z=function(e){var t=g(),n=t.profileRows,r=t.setProfileRows,c=g(),l=c.searchBarValue,s=c.setSearchBarValue,o=g(),d=o.changeCurrentCharacterId,j=o.currentCharacterId,h=g(),m=h.setCurrentProfile,f=h.currentProfile,b=g(),x=b.currentProfileImageURL,v=b.setCurrentProfileImageURL,O=g(),p=O.editorState,y=O.setEditorState,C=Object(i.useState)(!1),P=Object(u.a)(C,2),T=P[0],V=P[1];function A(){V(!1)}function I(){e.doNuiAction("fetchProfileData",{character_id:j},{character_id:3,character_name:"Juhan Kallas",profile_image_url:"https://i.imgur.com/LExuDrt.png",born:"1999-01-01",faction_name:"LSPD",description:"LOL",vehicles:[{plate:"ABCD1234",model:"Sultan MK2"},{plate:"ABCD1235",model:"Futo"},{plate:"ABCD1236",model:"Nigga"}],housing:[],priors:[],licenses:[]}).then((function(e){v(e.profile_image_url?e.profile_image_url:""),e.description?y(e.description):y(""),m(e)}))}a.a.useEffect((function(){if(0!==j){if((null===f||void 0===f?void 0:f.character_id)===j)return;I()}}),[j]);var N=a.a.useRef(0);return a.a.useEffect((function(){N.current=N.current+1;var t=N.current;setTimeout((function(){N.current===t&&l.length>=3?e.doNuiAction("getProfileResults",{query:l},[{character_id:1,character_name:"Jean Paul"},{character_id:2,character_name:"Indrek"}],!0).then((function(e){r(e)})):r([])}),200)}),[l]),Object(S.jsxs)("div",{className:"PageMain",children:[Object(S.jsxs)("div",{className:"PageSectionContainer",style:{width:"25%",alignItems:"center",minWidth:"150px",maxWidth:"250px"},children:[Object(S.jsx)(q,{name:"Profiilid",value:l,handleChange:function(e){s(e.target.value)}}),Object(S.jsx)("div",{className:"ListItemsContainer",children:n.map((function(e){return Object(S.jsx)(X,{profile:e,onClick:function(){d(e.character_id)}})}))})]}),Object(S.jsx)("div",{className:"PageSectionPadding"}),Object(S.jsxs)("div",{className:"PageSectionContainer",style:{width:"100%"},children:[!f&&Object(S.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"Profiili Pole Valitud"}),f&&Object(S.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex"},children:[Object(S.jsxs)("div",{style:{width:"55%",height:"100%",marginRight:"16px",display:"flex",flexDirection:"column"},children:[Object(S.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start"},children:[Object(S.jsx)("div",{children:"Profiil"}),Object(S.jsx)("div",{style:{width:"100%",marginLeft:"4px",display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("div",{children:[Object(S.jsx)(E.a,{style:{backgroundColor:"var(--yellow)",marginRight:"8px"},children:"TRAHVID"}),!f.warrant&&Object(S.jsx)(E.a,{style:{backgroundColor:"var(--red)",marginRight:"8px"},onClick:function(){V("Wanted")},children:"TEE TAGAOTSITAVAKS"}),!!f.warrant&&Object(S.jsx)(E.a,{style:{backgroundColor:"var(--red)",marginRight:"8px"},onClick:function(){e.doNuiAction("removeWarrant",{character_id:f.character_id},[]).then((function(){I()}))},children:"EEMALDA TAGAOTSITAVUS"}),Object(S.jsx)(E.a,{style:{backgroundColor:"var(--green)"},onClick:function(){x===f.profile_image_url&&p===f.description||e.doNuiAction("updateProfile",{profile_image_url:x,description:p,character_id:f.character_id},[]).then((function(){I()}))},children:"SALVESTA"})]})})]}),Object(S.jsxs)("div",{style:{marginTop:"16px",display:"flex"},children:[Object(S.jsx)("div",{style:{height:"100%",width:"8vw"},children:Object(S.jsx)("img",{src:f.profile_image_url?f.profile_image_url:"https://i.imgur.com/CnRussR.jpg",style:{width:"8vw",height:"8vw",objectFit:"contain"}})}),Object(S.jsxs)("div",{style:{marginLeft:"8px",width:"100%"},children:[Object(S.jsxs)("div",{children:["Nimi: ",f.character_name]}),Object(S.jsxs)("div",{children:["S\xfcndinud: ",f.born]}),Object(S.jsxs)("div",{children:["Kodaniku ID:"," ",f.character_id]}),Object(S.jsxs)("div",{children:[f.faction_name&&Object(S.jsxs)("div",{children:["Grupeering:"," ",f.faction_name]}),!f.faction_name&&Object(S.jsx)("div",{children:"Pole Grupeeringut"})]}),Object(S.jsx)("div",{style:{marginTop:"8px",maxWidth:"90%"},children:Object(S.jsxs)(L.a,{fullWidth:!0,children:[Object(S.jsx)(D.a,{htmlFor:"standard-adornment-amount",children:"Profiilipildi URL"}),Object(S.jsx)(B.a,{style:{color:"white"},value:x,onChange:function(e){v(e.target.value)}})]})})]})]}),Object(S.jsx)("div",{style:{paddingTop:"16px"}}),Object(S.jsx)("div",{style:{fontFamily:"Roboto",backgroundColor:"var(--dark)",overflowY:"hidden"},children:Object(S.jsx)(U.a,{style:{color:"white",height:"600px",overflowWrap:"anywhere",wordBreak:"break-all",border:"0 !important"},value:p,onChange:function(e){y(e)},placeholder:"Description about person",onKeyDown:function(e){var t="KeyA"==e.code&&e.ctrlKey;p.length>=2e3&&"Backspace"!==e.key&&!1===t&&e.preventDefault()}})})]}),Object(S.jsxs)("div",{style:{width:"45%",height:"100%",overflowY:"auto"},children:[!!f.warrant&&Object(S.jsx)(Q,{name:"ISIK ON TAGAOTSITAV",color:"red",children:Object(S.jsxs)("div",{style:{fontSize:"0.88rem",color:"white"},children:[Object(S.jsx)("div",{children:f.warrant.reason}),Object(S.jsx)(Y,{}),Object(S.jsxs)("div",{children:[Object(w.a)(new Date(1e3*f.warrant.last_update),new Date,{includeSeconds:!0,locale:k.a})," ","tagasi"]})]})}),Object(S.jsx)(Q,{name:"Load",marginTop:!0,children:f.licenses&&f.licenses.map((function(t){return console.log(JSON.stringify(t)),Object(S.jsx)(F.a,{style:{margin:"2px"},label:"".concat(t.license_name),onDelete:function(){!function(t){console.log("Delete: "+t),e.doNuiAction("removeLicense",{character_id:f.character_id,license:t},[],!0).then((function(e){if(e){var n=f.licenses.filter((function(e){return e.id!==t}));m(Object(R.a)(Object(R.a)({},f),{},{licenses:n}))}}))}(t.id)}})}))}),Object(S.jsx)(Q,{name:"S\xf5idukid",marginTop:!0,children:f.vehicles&&f.vehicles.map((function(e){return Object(S.jsx)(F.a,{style:{margin:"2px"},label:"".concat(e.plate," - ").concat(e.model)})}))}),Object(S.jsx)(Q,{name:"Kinnisvara",marginTop:!0,children:f.housing&&f.housing.map((function(e){return Object(S.jsx)(F.a,{style:{margin:"2px"},label:"".concat(e.street)})}))}),Object(S.jsx)(Q,{name:"Eelnevad Karistused",marginTop:!0,children:f.priors&&f.priors.map((function(e){return Object(S.jsx)(F.a,{style:{margin:"2px"},label:"(".concat(e.count,") ").concat(e.name)})}))})]})]})]}),T&&Object(S.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(S.jsx)(J.a,{className:"Modal",isOpen:!!T,onRequestClose:A,style:{overlay:{backgroundColor:"rgba(255, 255, 255, 0)"}},children:Object(S.jsx)("div",{className:"ModalContainer",children:Object(S.jsx)(G,{closeModal:A,makeWanted:function(t){V(!1),e.doNuiAction("makeWanted",{character_id:f.character_id,reason:t},{}).then((function(){I()}))}})})})})]})},$=n(49),ee=n(93),te=n(313),ne=n(319),ie=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),ae={OffensesAgainstPersons:[{name:"Tulirelvaga Vehkimine",jail:7,fine:525,color:1},{name:"R\xfcndamine & L\xf6\xf6mine",jail:11,fine:825,color:1},{name:"Ebaseaduslikult Vangistamine",jail:11,fine:825,color:1},{name:"Hoolimatu Ohustamine",jail:11,fine:825,color:1},{name:"Kriminaalne \xc4hvardamine",jail:14,fine:1050,color:1},{name:"Inimr\xf6\xf6vimine",jail:15,fine:1050,color:2},{name:"Riigiametniku Inimr\xf6\xf6vimine",jail:30,fine:3500,color:2},{name:"R\xfcnnak Surmava Relvaga",jail:21,fine:1575,color:2},{name:"Teise Astme M\xf5rva Katse",jail:25,fine:1875,color:2},{name:"Teise Astme M\xf5rv",jail:300,fine:22500,color:2},{name:"Esimese Astme M\xf5rva Katse",jail:35,fine:2625,color:2},{name:"Riigiametniku M\xf5rva Katse",jail:45,fine:3375,color:2},{name:"Gangi Seotud Tulistamine",jail:75,fine:500,color:2},{name:"Ettekavatsemata Tapmine",jail:150,fine:11250,color:3},{name:"Esimese Astme M\xf5rv",jail:450,fine:33500,color:3},{name:"Riigiametniku M\xf5rv",jail:600,fine:45850,color:3},{name:"Sarir\xfcnnakud ja Tapmised",jail:99999,fine:0,color:3}],OffensesInvolvingVehicles:[{name:"Hooletu Juhtimine",jail:0,fine:525,color:1},{name:"L\xf5busoit",jail:5,fine:800,color:1},{name:"Kiiruse\xfcletamine 1-25 km/h",jail:0,fine:140,color:1},{name:"Kiiruse\xfcletamine 25-40 km/h",jail:0,fine:280,color:1},{name:"Kiiruse\xfcletamine 40-60 km/h",jail:0,fine:500,color:1},{name:"Kiiruse\xfcletamine 60-100 km/h",jail:0,fine:950,color:1},{name:"Kiiruse\xfcletamine 100+ km/h",jail:7,fine:1250,color:2},{name:"R\xfcnnak S\xf5idukiga",jail:21,fine:1575,color:2},{name:"Hoolimatu Juhtimine",jail:12,fine:900,color:2}],GeneralTrafficViolations:[{name:"Liikusm\xe4rkide Eiramine",jail:0,fine:150,color:1},{name:"Sobimatu Akna Toon",jail:0,fine:250,color:1},{name:"Valel Pool Teed S\xf5itmine",jail:0,fine:300,color:1},{name:"Ebaseaduslik Parkimine",jail:0,fine:500,color:1}],OffensesInvolvingTheft:[{name:"Pisivargus",jail:0,fine:250,color:1},{name:"Autovargus",jail:5,fine:375,color:1},{name:"Varastatud Kauba Vastuv\xf5tmine",jail:12,fine:1300,color:2},{name:"Sissemurdmine",jail:13,fine:1450,color:2},{name:"Varastatud Kaupade M\xfc\xfcmine",jail:24,fine:2600,color:2},{name:"R\xf6\xf6vimine",jail:25,fine:3e3,color:2},{name:"Esimese Astme R\xf6\xf6vimine",jail:35,fine:3550,color:3}],OffensesInvolvingDamageToProperty:[{name:"Trespassing",jail:0,fine:400,color:0},{name:"Felony Trespassing",jail:12,fine:900,color:2},{name:"S\xfc\xfctamine",jail:21,fine:1575,color:2}],OffensesInvolvingFraud:[{name:"Pettus",jail:15,fine:1e3,color:2},{name:"V\xe4ljapressimine",jail:15,fine:1e3,color:2},{name:"Identiteedi Vargus",jail:15,fine:1500,color:2},{name:"Altk\xe4emaks",jail:20,fine:2e3,color:2},{name:"Rahapesu",jail:30,fine:2900,color:2}],OffensesAgainstPublicSafety:[{name:"Rahu H\xe4irimine",jail:0,fine:375,color:1},{name:"Vahistamisele Vastupanu Osutamine",jail:5,fine:700,color:1},{name:"Taseri Kriminaalne Omamine",jail:15,fine:1575,color:2},{name:"Tulirelva Kriminaalne Omamine",jail:20,fine:2150,color:2},{name:"Terrorism",jail:600,fine:17850,color:3}],OffensesAgainstPublicOrder:[{name:"Riigiametniku S\xf5nakuulmatus",jail:7,fine:500,color:1},{name:"Ahistamine",jail:7,fine:600,color:1},{name:"Loomade Julmus",jail:7,fine:600,color:1},{name:"\xd5igluse Takistamine",jail:12,fine:990,color:1}],OffensesAgainstPublicHealth:[{name:"Prostitutsioon",jail:3,fine:350,color:1},{name:"Avalik Ebas\xfcndsus",jail:5,fine:500,color:1},{name:"Illegaalsete Ainete Omamine",jail:7,fine:750,color:1},{name:"Narkootikumide M\xfc\xfcmine",jail:25,fine:2300,color:2}]},re=function(e){var t,n=e.name,i=e.jail,r=e.fine,c=e.color,l=e.searchValue,s=e.onClick;switch(c){case 1:t="var(--green)";break;case 2:t="var(--yellow)";break;case 3:t="var(--dark-red)";break;default:t="var(--green)"}var o=!l||n.toLowerCase().includes(l.toLowerCase());return Object(S.jsx)(a.a.Fragment,{children:o&&Object(S.jsx)(f.a.div,{whileHover:{opacity:.7,transition:{duration:.1}},style:Object(R.a)({cursor:"pointer",width:"320px",height:"auto",margin:"2px",backgroundColor:t,fontSize:"14px",fontFamily:"Roboto"},e.style),onClick:function(){return s(n,i,r,c)},children:Object(S.jsxs)("div",{style:{padding:"8px"},children:[Object(S.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:n}),Object(S.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px"},children:[Object(S.jsxs)("div",{children:[i," kuu(d)"]}),Object(S.jsx)("div",{children:ie.format(r)})]})]})})})},ce=function(e){var t=e.name,n=e.options,i=e.searchValue,r=e.addCharge,c=a.a.useState(!0),l=Object(u.a)(c,2),s=l[0],o=l[1];return a.a.useEffect((function(){for(var e=0;e<n.length;e++)if(n[e].name.toLowerCase().includes(i.toLowerCase()))return void o(!0);o(!1)}),[i]),Object(S.jsxs)("div",{style:{margin:"8px",display:s?"block":"none"},children:[Object(S.jsx)("div",{children:t}),Object(S.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",width:"100%",flexWrap:"wrap",marginTop:"8px"},children:n.map((function(e){return Object(S.jsx)("div",{children:Object(S.jsx)(re,Object(R.a)(Object(R.a)({},e),{},{searchValue:i,onClick:r}))})}))})]})},le=function(e){var t=e.searchValue,n=e.setSearchValue;return Object(S.jsx)("div",{children:Object(S.jsxs)(L.a,{fullWidth:!0,children:[Object(S.jsx)(D.a,{htmlFor:"standard-adornment-amount",children:"Otsi"}),Object(S.jsx)(B.a,{style:{color:"white"},value:t,onChange:function(e){n(e.target.value)}})]})})},se=function(e){var t,n=g(),i=n.setCurrentProfile,r=n.currentProfile,c=C(),l=c.searchValue,s=c.setSearchValue,o=C(),d=o.charges,j=o.setCharges,h=o.finalString,m=o.setFinalString,f=C(),b=f.reduction,x=f.setReduction,v=function(){var e=d.reduce((function(e,t){return e+t.fine}),0),t=d.reduce((function(e,t){return e+t.jail}),0);if(b>0){var n=b/100;t=Math.round(t*(1-n)),e=Math.round(e+e*n)}return[e,t]};a.a.useEffect((function(){!function(){var e=v(),t=Object(u.a)(e,2),n=t[0],i=t[1];m("".concat(i," months | ").concat(ie.format(n)," fine"))}()}),[d,b]);var O=function(e,t,n,i){j([].concat(Object(ee.a)(d),[{name:e,jail:t,fine:n,color:i}]))};return Object(S.jsx)("div",{className:"PageMain",children:r?Object(S.jsxs)(a.a.Fragment,{children:[Object(S.jsxs)("div",{className:"PageSectionContainer",style:Object($.a)({width:"100%",display:"flex",flexDirection:"column"},"width","".concat(70,"%")),children:[Object(S.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(S.jsx)("div",{children:"Lisa S\xfc\xfcdistusi"}),Object(S.jsx)("div",{children:Object(S.jsx)(le,{searchValue:l,setSearchValue:s})})]}),Object(S.jsxs)("div",{style:{backgroundColor:"var(--dark)",height:"100%",marginTop:"8px",display:"flex",flexDirection:"column",overflowY:"scroll"},children:[Object(S.jsx)(ce,{name:"Kuriteod Isikute Vastu",options:ae.OffensesAgainstPersons,searchValue:l,addCharge:O}),Object(S.jsx)(ce,{name:"Kuriteod Seotud S\xf5idukitega",options:ae.OffensesInvolvingVehicles,searchValue:l,addCharge:O}),Object(S.jsx)(ce,{name:"\xdcldised Liiklusrikkumised",options:ae.GeneralTrafficViolations,searchValue:l,addCharge:O}),Object(S.jsx)(ce,{name:"Kuriteod Seotud Vargusega",options:ae.OffensesInvolvingTheft,searchValue:l,addCharge:O}),Object(S.jsx)(ce,{name:"Kuriteod Seotud Pettustega",options:ae.OffensesInvolvingFraud,searchValue:l,addCharge:O}),Object(S.jsx)(ce,{name:"Kuriteod Seotud Avaliku Turvalisusega",options:ae.OffensesAgainstPublicSafety,searchValue:l,addCharge:O}),Object(S.jsx)(ce,{name:"Kuriteod Avaliku Korra Vastu",options:ae.OffensesAgainstPublicOrder,searchValue:l,addCharge:O}),Object(S.jsx)(ce,{name:"Kuriteod Rahvatervise Vastu",options:ae.OffensesAgainstPublicHealth,searchValue:l,addCharge:O})]})]}),Object(S.jsx)("div",{className:"PageSectionPadding"}),Object(S.jsxs)("div",{className:"PageSectionContainer",style:(t={width:"100%",display:"flex",flexDirection:"column"},Object($.a)(t,"width","".concat(30,"%")),Object($.a)(t,"overflowY","auto"),t),children:[Object(S.jsxs)("div",{children:[null===r||void 0===r?void 0:r.character_name," (#",null===r||void 0===r?void 0:r.character_id,")"]}),Object(S.jsxs)("div",{style:{marginTop:"8px",height:"100%",display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[Object(S.jsx)("div",{style:{backgroundColor:"var(--dark)"},children:Object(S.jsxs)("div",{style:{padding:"8px"},children:[Object(S.jsxs)("div",{children:["Praegused S\xfc\xfcdistused (",d.length,")"]}),Object(S.jsx)("div",{style:{fontSize:"14px",fontFamily:"Roboto",height:"350px",overflowY:"auto"},children:d.map((function(e,t){return Object(S.jsx)(re,Object(R.a)(Object(R.a)({},e),{},{style:{margin:"0px",marginTop:"4px",width:"100%"},onClick:function(){!function(e,t){var n=Object(ee.a)(d);n.splice(t,1),j(n)}(e.name,t)}}))}))})]})}),Object(S.jsx)("div",{children:d.length>0&&Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:"V\xe4hendused"}),Object(S.jsxs)(te.a,{style:{width:"100%"},labelId:"demo-simple-select-placeholder-label-label",value:b,onChange:function(e){console.log(e.target.value),x(e.target.value)},displayEmpty:!0,children:[Object(S.jsx)(ne.a,{value:0,children:"0%"},0),Object(S.jsx)(ne.a,{value:10,children:"10%"},1),Object(S.jsx)(ne.a,{value:25,children:"25%"},2),Object(S.jsx)(ne.a,{value:50,children:"50%"},3)]}),Object(S.jsx)("div",{style:{marginTop:"8px"},children:"Total"}),Object(S.jsx)("div",{children:h}),Object(S.jsx)(E.a,{style:{backgroundColor:"var(--red)",width:"100%",marginTop:"16px"},onClick:function(){var t=v(),n=Object(u.a)(t,2),a=n[0],c=n[1];e.doNuiAction("chargePlayer",{citizen_id:r.character_id,charges:d.map((function(e){return e.name})),totalFine:a,totalJail:c},!0,!1).then((function(e){e?(j([]),i(!1),x(0)):console.log("RIP FAILED?")}))},children:"Karista"})]})})]})]})]}):Object(S.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"Profiili Pole Valitud (Vali Profiilide Lehelt)"})})};function oe(e){return Object(S.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(S.jsx)("div",{style:{maxWidth:"40%",fontSize:"1.0rem"},children:e.name}),Object(S.jsx)("div",{style:{maxWidth:"60%"},children:Object(S.jsxs)(L.a,{fullWidth:!0,children:[Object(S.jsx)(D.a,{htmlFor:"standard-adornment-amount",children:"Numbrim\xe4rk"}),Object(S.jsx)(B.a,{style:{color:"white"},value:e.value,onChange:e.handleChange,startAdornment:Object(S.jsx)(M.a,{position:"start",children:"\ud83d\ude98"})})]})})]})}function de(e){var t=e.vehicle,n=e.click;return Object(S.jsxs)(E.a,{className:"ListItemButton",style:{backgroundColor:"var(--dark)",marginTop:"4px"},onClick:n,children:[t.plate," - ",t.model]})}var ue=function(e){var t=g().changeCurrentCharacterId,n=y(),i=n.searchBarValue,r=n.setSearchBarValue,c=n.vehicleResults,l=n.setVehicleResults,o=n.currentVehicle,u=n.setCurrentVehicle,j=function(){var t=Object(d.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.doNuiAction("getVehicleResults",{query:n},[{plate:"ABCD1234",model:"Bati 801RR"},{plate:"ABCD1235",model:"Bati 802RR"}],!0));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(d.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.doNuiAction("getVehicleData",{vin:n},{vin:1,plate:"blabla",owner_id:3,owner_name:"Jean Paul",model:"801BatiRR",created_at:1621274228},!0));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=a.a.useRef(0);a.a.useEffect((function(){m.current=m.current+1;var e=m.current;setTimeout(Object(d.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m.current===e&&i.length>=3)){t.next=8;break}return t.t0=l,t.next=4,j(i);case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=9;break;case 8:l([]);case 9:case"end":return t.stop()}}),t)}))),200)}),[i]);var f=function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,h(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"PageMain",children:[Object(S.jsxs)("div",{className:"PageSectionContainer",style:{width:"25%",alignItems:"center",minWidth:"150px",maxWidth:"250px"},children:[Object(S.jsx)(oe,{name:"S\xf5idukid",value:i,handleChange:function(e){r(e.target.value)}}),Object(S.jsx)("div",{className:"ListItemsContainer",children:c.map((function(e){return Object(S.jsx)(de,{vehicle:e,click:function(){f(e.vin)}})}))})]}),Object(S.jsx)("div",{className:"PageSectionPadding"}),Object(S.jsxs)("div",{className:"PageSectionContainer",style:{width:"100%"},children:[!o&&Object(S.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"S\xf5idukit Pole Valitud"}),o&&Object(S.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[Object(S.jsxs)("div",{children:["S\xf5iduki Omanik:"," ",Object(S.jsx)(E.a,{style:{backgroundColor:"var(--dark)"},onClick:function(){e.setPage("Profiles"),t(o.owner_id)},children:o.owner_name})]}),Object(S.jsxs)("div",{children:["Numbrim\xe4rk: ",o.plate]}),Object(S.jsxs)("div",{style:{marginTop:"8px"},children:["Mudel: ",o.model]}),Object(S.jsxs)("div",{style:{marginTop:"8px"},children:["VIN: ",o.vin]}),Object(S.jsxs)("div",{style:{marginTop:"8px"},children:["Registreeritud:"," ",new Date(1e3*o.created_at).toLocaleDateString("en-US")]})]})]})]})};function je(e){var t=Object(i.useState)(!1),n=Object(u.a)(t,2);n[0],n[1];return Object(S.jsx)(E.a,{className:"SidebarButton",onClick:function(){e.onClick(e.name)},style:{backgroundColor:e.currentPage===e.name?"#30455f":"var(--dark)",width:"100%",borderRadius:"0px"},size:"large",children:e.name})}var he=function(e){return Object(S.jsx)(m.a,{children:Object(S.jsx)(f.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{height:"100%",width:"100%"},children:e.children})})},me=Object(j.a)({palette:{type:"dark"}}),fe=["Dashboard","Profiilid","S\xfc\xfcdistused","S\xf5idukid"];var be=function(){var e=Object(i.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)("Dashboard"),l=Object(u.a)(c,2),j=l[0],b=l[1],O=Object(i.useState)(!1),g=Object(u.a)(O,2),p=g[0],y=g[1];function C(e,t,n,i){return w.apply(this,arguments)}function w(){return(w=Object(d.a)(s.a.mark((function e(t,n,i,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||y(!0),e.next=3,v(t,n,i);case 3:return r=e.sent,a||y(!1),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){window.addEventListener("message",(function(e){void 0!==e.data.show&&r(e.data.show)})),window.addEventListener("keydown",(function(e){"Escape"===e.key&&v("closeNui",{},(function(){}))}))}),[]);var k,P=[],T=Object(o.a)(fe);try{for(T.s();!(k=T.n()).done;){var V=k.value,A=Object(S.jsx)(je,{name:V,onClick:b,currentPage:j});P.push(A)}}catch(I){T.e(I)}finally{T.f()}return Object(S.jsx)("div",{className:"AppHolder",children:Object(S.jsx)(m.a,{children:n&&Object(S.jsx)(f.a.div,{className:"App",initial:{scaleY:0},exit:{scaleY:0},transition:{duration:.2},animate:n?"open":"closed",variants:{open:{scaleY:1},closed:{scaleY:0}},children:Object(S.jsxs)(h.a,{theme:me,children:[Object(S.jsx)("div",{className:"Topbar",children:"MDT"}),p&&Object(S.jsx)("div",{className:"Main",children:Object(S.jsx)("div",{className:"Spinner",children:Object(S.jsx)(x.a,{color:"white",size:15,loading:p})})}),Object(S.jsxs)("div",{className:"Main",style:{display:p?"none":"flex"},children:[Object(S.jsx)("div",{className:"Sidebar",children:P}),Object(S.jsxs)("div",{className:"Container",children:["Dashboard"===j&&Object(S.jsx)(he,{children:Object(S.jsx)(N,{doNuiAction:C,setPage:b})}),"Profiilid"===j&&Object(S.jsx)(he,{children:Object(S.jsx)(Z,{doNuiAction:C,setPage:b})}),"S\xfc\xfcdistused"===j&&Object(S.jsx)(he,{children:Object(S.jsx)(se,{doNuiAction:C,setPage:b})}),"S\xf5idukid"===j&&Object(S.jsx)(he,{children:Object(S.jsx)(ue,{doNuiAction:C,setPage:b})})]})]})]})})})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,320)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))};c.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(be,{})}),document.getElementById("root")),xe()},55:function(e,t,n){}},[[272,1,2]]]);
//# sourceMappingURL=main.c79eedd6.chunk.js.map