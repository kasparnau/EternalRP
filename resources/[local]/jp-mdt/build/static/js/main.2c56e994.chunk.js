(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{138:function(e,n,t){},267:function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),r=t(12),c=t.n(r),l=(t(138),t(16)),s=t.n(l),o=t(117),d=t(39),u=t(15),j=(t(52),t(126)),h=t(306),f=t(309),m=t(307),b=t(125),x=t.n(b);var g=function(e,n,t){return new Promise((function(t){fetch("https://".concat("jp-mdt","/nuiAction"),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({action:e,data:n})}).then((function(e){return e.json()})).then((function(e){t(e)}))}))},p=t(60),v=Object(p.a)((function(e){return{currentCharacterId:0,changeCurrentCharacterId:function(n){return e((function(e){return{currentCharacterId:n}}))},currentProfile:null,setCurrentProfile:function(n){return e((function(e){return{currentProfile:n}}))},searchBarValue:"",setSearchBarValue:function(n){return e((function(e){return{searchBarValue:n}}))},profileRows:[],setProfileRows:function(n){return e((function(e){return{profileRows:n}}))},currentProfileImageURL:"",setCurrentProfileImageURL:function(n){return e((function(e){return{currentProfileImageURL:n}}))},editorState:"",setEditorState:function(n){return e((function(e){return{editorState:n}}))}}})),O=Object(p.a)((function(e){return{bulletins:[],setBulletins:function(n){return e((function(e){return{bulletins:n}}))},warrants:[],setWarrants:function(n){return e((function(e){return{warrants:n}}))}}})),y=Object(p.a)((function(e){return{vehicleResults:[],setVehicleResults:function(n){return e((function(e){return{vehicleResults:n}}))},currentVehicle:null,setCurrentVehicle:function(n){return e((function(e){return{currentVehicle:n}}))},searchBarValue:"",setSearchBarValue:function(n){return e((function(e){return{searchBarValue:n}}))}}})),C=Object(p.a)((function(e){return{searchValue:"",setSearchValue:function(n){return e((function(e){return{searchValue:n}}))},charges:[],setCharges:function(n){return e((function(e){return{charges:n}}))},finalString:"",setFinalString:function(n){return e((function(e){return{finalString:n}}))},reduction:0,setReduction:function(n){return e((function(e){return{reduction:n}}))}}})),w=t(57),P=t.n(w),k=t(1);function S(e){return Object(k.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:Object(k.jsx)("div",{style:{maxWidth:"40%"},children:e.name})})}function N(){return Object(k.jsx)("hr",{style:{borderTop:"1px dashed"}})}function I(e){var n=e.warrant;return Object(k.jsxs)("div",{className:"ListItem",onClick:e.onClick,children:[Object(k.jsx)("div",{children:n.character_name}),Object(k.jsx)("div",{style:{marginTop:"8px"},children:n.reason}),Object(k.jsx)(N,{}),P()(1e3*n.timestamp).fromNow()]})}function T(e){var n=e.bulletin;return Object(k.jsxs)("div",{className:"ListItem",onClick:e.onClick,children:[Object(k.jsx)("div",{children:n.title}),Object(k.jsx)("div",{style:{marginTop:"8px"},children:n.description}),Object(k.jsx)(N,{}),P()(1e3*n.timestamp).fromNow()]})}function A(e,n){return e.timestamp<n.timestamp?1:e.timestamp>n.timestamp?-1:0}var R=function(e){var n=Object(i.useState)(""),t=Object(u.a)(n,2),r=t[0],c=t[1],l=v().changeCurrentCharacterId,s=O(),o=s.bulletins,d=s.warrants,j=s.setBulletins,h=s.setWarrants;return a.a.useEffect((function(){e.doNuiAction("fetchDashboardPage",[],{warrants:[{id:1,timestamp:1620665732,character_id:3,character_name:"Jean Pual",reason:"Really nigga? 5 Cops for this?"},{id:2,timestamp:1620665792,character_id:4,character_name:"Indrek Lindsalu",reason:"Ei ole ikka veel moelnud serverile nime valja  >:(>?(::>:(>(:(:>Ei ole ikka veel moelnud serverile nime valja  >:(>?(::>:(>(:(:>"}],bulletins:[{id:1,timestamp:1608832019,title:"Tazerid",description:"inimeste autodest tazeriga v\xc3\xa4lja laskmine = ban"}]},!0).then((function(e){j(e.bulletins.sort(A)),h(e.warrants.sort(A))}))}),[]),Object(k.jsxs)("div",{className:"PageMain",children:[Object(k.jsxs)("div",{className:"PageSectionContainer",style:{width:"50%",alignItems:"center"},children:[Object(k.jsx)(S,{name:"Warrants",value:r,handleChange:function(e){c(e.target.value)}}),Object(k.jsx)("div",{className:"ListItemsContainer",children:d.map((function(n){return Object(k.jsx)(I,{warrant:n,onClick:function(){e.setPage("Profiles"),l(n.character_id)}})}))})]}),Object(k.jsx)("div",{className:"PageSectionPadding"}),Object(k.jsxs)("div",{className:"PageSectionContainer",style:{width:"50%"},children:["Bulletin Board",Object(k.jsx)("div",{className:"ListItemsContainer",children:o.map((function(e){return Object(k.jsx)(T,{bulletin:e})}))})]})]})},_=t(31),V=t(298),D=t(301),B=t(310),F=t(303),L=t(304),E=t(305),M=t(311),W=t(312),z=t(118),U=t.n(z),J=t(119),G=t.n(J),K=(t(255),Object(V.a)((function(e){return{root:{"& .MuiTextField-root":{color:"white"},"& .MuiTypography-colorTextSecondary":{color:"white"},"& .MuiInputLabel-formControl":{color:"white"},"& .MuiFilledInput-input":{color:"white"}},maleButton:{backgroundColor:"hsla(208, 100%, 50%, 0.1)","&:hover":{backgroundColor:"hsla(208, 100%, 50%, 0.3)"}},femaleButton:{backgroundColor:"hsla(333, 100%, 50%, 0.1)","&:hover":{backgroundColor:"hsla(333, 100%, 50%, 0.3)"}}}})));function Y(e){var n=e.closeModal,t=K(),a=Object(i.useState)(""),r=Object(u.a)(a,2),c=r[0],l=r[1];return Object(k.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(k.jsxs)(D.a,{style:{width:"100%"},variant:"filled",className:t.root,children:[Object(k.jsx)(B.a,{htmlFor:"filled-adornment-amount",children:"Reason"}),Object(k.jsx)(F.a,{value:c,multiline:!0,onChange:function(e){l(e.target.value)}})]})}),Object(k.jsxs)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(k.jsx)(L.a,{style:{width:"50%",backgroundColor:"#ce8e4c",marginRight:"5px"},onClick:n,children:"CANCEL"}),Object(k.jsx)(L.a,{onClick:function(){e.makeWanted(c)},style:{width:"50%",backgroundColor:"var(--red)",marginLeft:"5px"},children:"MAKE WANTED"})]})]})}function H(){return Object(k.jsx)("hr",{style:{borderTop:"1px dashed"}})}function q(e){return Object(k.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(k.jsx)("div",{style:{maxWidth:"40%",fontSize:"1.0rem"},children:e.name}),Object(k.jsx)("div",{style:{maxWidth:"60%"},children:Object(k.jsxs)(D.a,{fullWidth:!0,children:[Object(k.jsx)(B.a,{htmlFor:"standard-adornment-amount",children:"Name"}),Object(k.jsx)(E.a,{style:{color:"white"},value:e.value,onChange:e.handleChange,startAdornment:Object(k.jsx)(M.a,{position:"start",children:"\ud83d\udd0d"})})]})})]})}function Q(e){return Object(k.jsx)("div",{style:{backgroundColor:"hsla(218, 31%, 12%, 0.541)",width:"100%",marginTop:e.marginTop&&"8px",color:e.color&&e.color},children:Object(k.jsxs)("div",{style:{padding:"8px"},children:[Object(k.jsx)("div",{style:{marginBottom:"8px"},children:e.name}),Object(k.jsx)("div",{children:e.children})]})})}function X(e){var n=e.profile;return Object(k.jsxs)("div",{className:"ListItem",onClick:e.onClick,children:[Object(k.jsx)("div",{children:n.character_name}),Object(k.jsxs)("div",{style:{marginTop:"8px",fontSize:"12px"},children:["ID: ",n.character_id]})]})}var Z=function(e){var n=v(),t=n.profileRows,r=n.setProfileRows,c=v(),l=c.searchBarValue,s=c.setSearchBarValue,o=v(),d=o.changeCurrentCharacterId,j=o.currentCharacterId,h=v(),f=h.setCurrentProfile,m=h.currentProfile,b=v(),x=b.currentProfileImageURL,g=b.setCurrentProfileImageURL,p=v(),O=p.editorState,y=p.setEditorState,C=Object(i.useState)(!1),w=Object(u.a)(C,2),S=w[0],N=w[1];function I(){N(!1)}function T(){e.doNuiAction("fetchProfileData",{character_id:j},{character_id:3,character_name:"Juhan Kallas",profile_image_url:"https://i.imgur.com/LExuDrt.png",born:"1999-01-01",faction_name:"LSPD",description:"LOL",vehicles:[{plate:"ABCD1234",model:"Sultan MK2"},{plate:"ABCD1235",model:"Futo"},{plate:"ABCD1236",model:"Nigga"}],housing:[],priors:[],licenses:[]}).then((function(e){g(e.profile_image_url?e.profile_image_url:""),e.description?y(e.description):y(""),f(e)}))}a.a.useEffect((function(){if(0!==j){if((null===m||void 0===m?void 0:m.character_id)===j)return;T()}}),[j]);var A=a.a.useRef(0);return a.a.useEffect((function(){A.current=A.current+1;var n=A.current;setTimeout((function(){A.current===n&&l.length>=3?e.doNuiAction("getProfileResults",{query:l},[{character_id:1,character_name:"Jean Paul"},{character_id:2,character_name:"Indrek"}],!0).then((function(e){r(e)})):r([])}),200)}),[l]),Object(k.jsxs)("div",{className:"PageMain",children:[Object(k.jsxs)("div",{className:"PageSectionContainer",style:{width:"25%",alignItems:"center",minWidth:"150px",maxWidth:"250px"},children:[Object(k.jsx)(q,{name:"Profiles",value:l,handleChange:function(e){s(e.target.value)}}),Object(k.jsx)("div",{className:"ListItemsContainer",children:t.map((function(e){return Object(k.jsx)(X,{profile:e,onClick:function(){d(e.character_id)}})}))})]}),Object(k.jsx)("div",{className:"PageSectionPadding"}),Object(k.jsxs)("div",{className:"PageSectionContainer",style:{width:"100%"},children:[!m&&Object(k.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"No Profile Selected"}),m&&Object(k.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex"},children:[Object(k.jsxs)("div",{style:{width:"55%",height:"100%",marginRight:"16px",display:"flex",flexDirection:"column"},children:[Object(k.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start"},children:[Object(k.jsx)("div",{children:"Profile"}),Object(k.jsx)("div",{style:{width:"100%",marginLeft:"4px",display:"flex",justifyContent:"flex-end"},children:Object(k.jsxs)("div",{children:[Object(k.jsx)(L.a,{style:{backgroundColor:"var(--yellow)",marginRight:"8px"},children:"BILLS"}),!m.warrant&&Object(k.jsx)(L.a,{style:{backgroundColor:"var(--red)",marginRight:"8px"},onClick:function(){N("Wanted")},children:"MAKE WANTED"}),!!m.warrant&&Object(k.jsx)(L.a,{style:{backgroundColor:"var(--red)",marginRight:"8px"},onClick:function(){e.doNuiAction("removeWarrant",{character_id:m.character_id},[]).then((function(){T()}))},children:"REMOVE WARRANT"}),Object(k.jsx)(L.a,{style:{backgroundColor:"var(--green)"},onClick:function(){x===m.profile_image_url&&O===m.description||e.doNuiAction("updateProfile",{profile_image_url:x,description:O,character_id:m.character_id},[]).then((function(){T()}))},children:"SAVE"})]})})]}),Object(k.jsxs)("div",{style:{marginTop:"16px",display:"flex"},children:[Object(k.jsx)("div",{style:{height:"100%",width:"8vw"},children:Object(k.jsx)("img",{src:m.profile_image_url?m.profile_image_url:"https://i.imgur.com/CnRussR.jpg",style:{width:"8vw",height:"8vw",objectFit:"contain"}})}),Object(k.jsxs)("div",{style:{marginLeft:"8px",width:"100%"},children:[Object(k.jsxs)("div",{children:["Name: ",m.character_name]}),Object(k.jsxs)("div",{children:["Born: ",m.born]}),Object(k.jsxs)("div",{children:["Citizen ID:"," ",m.character_id]}),Object(k.jsxs)("div",{children:[m.faction_name&&Object(k.jsxs)("div",{children:["Faction:"," ",m.faction_name]}),!m.faction_name&&Object(k.jsx)("div",{children:"No Faction"})]}),Object(k.jsx)("div",{style:{marginTop:"8px",maxWidth:"90%"},children:Object(k.jsxs)(D.a,{fullWidth:!0,children:[Object(k.jsx)(B.a,{htmlFor:"standard-adornment-amount",children:"Profile Image URL"}),Object(k.jsx)(E.a,{style:{color:"white"},value:x,onChange:function(e){g(e.target.value)}})]})})]})]}),Object(k.jsx)("div",{style:{paddingTop:"16px"}}),Object(k.jsx)("div",{style:{fontFamily:"Roboto",backgroundColor:"var(--dark)",overflowY:"hidden"},children:Object(k.jsx)(G.a,{style:{color:"white",height:"600px",overflowWrap:"anywhere",wordBreak:"break-all",border:"0 !important"},value:O,onChange:function(e){y(e)},placeholder:"Description about person",onKeyDown:function(e){var n="KeyA"==e.code&&e.ctrlKey;O.length>=2e3&&"Backspace"!==e.key&&!1===n&&e.preventDefault()}})})]}),Object(k.jsxs)("div",{style:{width:"45%",height:"100%",overflowY:"auto"},children:[!!m.warrant&&Object(k.jsx)(Q,{name:"PERSON IS WANTED",color:"red",children:Object(k.jsxs)("div",{style:{fontSize:"0.88rem",color:"white"},children:[Object(k.jsx)("div",{children:m.warrant.reason}),Object(k.jsx)(H,{}),Object(k.jsx)("div",{children:P()(1e3*m.warrant.last_update).fromNow()})]})}),Object(k.jsx)(Q,{name:"Licenses",marginTop:!0,children:m.licenses&&m.licenses.map((function(n){return console.log(JSON.stringify(n)),Object(k.jsx)(W.a,{style:{margin:"2px"},label:"".concat(n.license_name),onDelete:function(){!function(n){console.log("Delete: "+n),e.doNuiAction("removeLicense",{character_id:m.character_id,license:n},[],!0).then((function(e){if(e){var t=m.licenses.filter((function(e){return e.id!==n}));f(Object(_.a)(Object(_.a)({},m),{},{licenses:t}))}}))}(n.id)}})}))}),Object(k.jsx)(Q,{name:"Vehicles",marginTop:!0,children:m.vehicles&&m.vehicles.map((function(e){return Object(k.jsx)(W.a,{style:{margin:"2px"},label:"".concat(e.plate," - ").concat(e.model)})}))}),Object(k.jsx)(Q,{name:"Housing",marginTop:!0,children:m.housing&&m.housing.map((function(e){return Object(k.jsx)(W.a,{style:{margin:"2px"},label:"".concat(e.street)})}))}),Object(k.jsx)(Q,{name:"Priors",marginTop:!0,children:m.priors&&m.priors.map((function(e){return Object(k.jsx)(W.a,{style:{margin:"2px"},label:"(".concat(e.count,") ").concat(e.name)})}))})]})]})]}),S&&Object(k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(k.jsx)(U.a,{className:"Modal",isOpen:!!S,onRequestClose:I,style:{overlay:{backgroundColor:"rgba(255, 255, 255, 0)"}},children:Object(k.jsx)("div",{className:"ModalContainer",children:Object(k.jsx)(Y,{closeModal:I,makeWanted:function(n){N(!1),e.doNuiAction("makeWanted",{character_id:m.character_id,reason:n},{}).then((function(){T()}))}})})})})]})},$=t(46),ee=t(90),ne=t(308),te=t(313),ie=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),ae={OffensesAgainstPersons:[{name:"Brandishing of a Firearm",jail:7,fine:525,color:1},{name:"Assault & Battery",jail:11,fine:825,color:1},{name:"Unlawful Imprisonment",jail:11,fine:825,color:1},{name:"Reckless Endangerment",jail:11,fine:825,color:1},{name:"Criminal Threats",jail:14,fine:1050,color:1},{name:"Kidnapping",jail:15,fine:1050,color:2},{name:"Kidnapping a Government Employee",jail:30,fine:3500,color:2},{name:"Assault with a Deadly Weapon",jail:21,fine:1575,color:2},{name:"Attempted 2nd Degree Murder",jail:25,fine:1875,color:2},{name:"2nd Degree Murder",jail:300,fine:22500,color:2},{name:"Attempted 1st Degree Murder",jail:35,fine:2625,color:2},{name:"Attempted Murder of a Government Employee",jail:45,fine:3375,color:2},{name:"Gang Related Shooting",jail:75,fine:500,color:2},{name:"Manslaughter",jail:150,fine:11250,color:3},{name:"1st Degree Murder",jail:450,fine:33500,color:3},{name:"Murder of a Government Employee",jail:600,fine:45850,color:3},{name:"Serial Assaults and Killings",jail:99999,fine:0,color:3}],OffensesInvolvingVehicles:[{name:"Negligent Driving",jail:0,fine:525,color:1},{name:"Joyriding",jail:5,fine:800,color:1},{name:"Speeding 1-25 km/h",jail:0,fine:140,color:1},{name:"Speeding 25-40 km/h",jail:0,fine:280,color:1},{name:"Speeding 40-60 km/h",jail:0,fine:500,color:1},{name:"Speeding 60-100 km/h",jail:0,fine:950,color:1},{name:"Speeding 100+ km/h",jail:7,fine:1250,color:2},{name:"Vehicular Assault",jail:21,fine:1575,color:2},{name:"Reckless Driving",jail:12,fine:900,color:2}],GeneralTrafficViolations:[{name:"Failure to Obey Traffic Control Devices",jail:0,fine:150,color:1},{name:"Improper Window Tint",jail:0,fine:250,color:1},{name:"Driving on the Wrong Side of the Road",jail:0,fine:300,color:1},{name:"Unauthorized Parking",jail:0,fine:500,color:1}],OffensesInvolvingTheft:[{name:"Petty Theft",jail:0,fine:250,color:1},{name:"Grand Theft Auto",jail:5,fine:375,color:1},{name:"Receiving Stolen Goods",jail:12,fine:1300,color:2},{name:"Burglary",jail:13,fine:1450,color:2},{name:"Sale of Stolen Goods",jail:24,fine:2600,color:2},{name:"Robbery",jail:25,fine:3e3,color:2},{name:"First Degree Robbery",jail:35,fine:3550,color:3}],OffensesInvolvingDamageToProperty:[{name:"Trespassing",jail:0,fine:400,color:0},{name:"Felony Trespassing",jail:12,fine:900,color:2},{name:"Arson",jail:21,fine:1575,color:2}],OffensesInvolvingFraud:[{name:"Fraud",jail:15,fine:1e3,color:2},{name:"Extortion",jail:15,fine:1e3,color:2},{name:"Identity Theft",jail:15,fine:1500,color:2},{name:"Bribery",jail:20,fine:2e3,color:2},{name:"Money Laundering",jail:30,fine:2900,color:2}],OffensesAgainstPublicSafety:[{name:"Disturbing the peace",jail:0,fine:375,color:1},{name:"Disorderly Conduct",jail:0,fine:500,color:1},{name:"Resisting Arrest",jail:5,fine:700,color:1},{name:"Criminal Possession of a Taser",jail:15,fine:1575,color:2},{name:"Criminal Possession of a Firearm",jail:20,fine:2150,color:2},{name:"Terrorism",jail:600,fine:17850,color:3}],OffensesAgainstPublicOrder:[{name:"Disobeying a Peace Officer",jail:7,fine:500,color:1},{name:"Harrassment",jail:7,fine:600,color:1},{name:"Animal Cruelty",jail:7,fine:600,color:1},{name:"Obstruction of Justice",jail:12,fine:990,color:1}],OffensesAgainstPublicHealth:[{name:"Prostitution",jail:3,fine:350,color:1},{name:"Public Indecency",jail:5,fine:500,color:1},{name:"Possession of Controlled Dangerous Substances",jail:7,fine:750,color:1},{name:"Desecration of a Human Corpse",jail:18,fine:1500,color:2},{name:"Sale of Drugs",jail:25,fine:2300,color:2}]},re=function(e){var n,t=e.name,i=e.jail,r=e.fine,c=e.color,l=e.searchValue,s=e.onClick;switch(c){case 1:n="var(--green)";break;case 2:n="var(--yellow)";break;case 3:n="var(--dark-red)";break;default:n="var(--green)"}var o=!l||t.toLowerCase().includes(l.toLowerCase());return Object(k.jsx)(a.a.Fragment,{children:o&&Object(k.jsx)(m.a.div,{whileHover:{opacity:.7,transition:{duration:.1}},style:Object(_.a)({cursor:"pointer",width:"320px",height:"auto",margin:"2px",backgroundColor:n,fontSize:"14px",fontFamily:"Roboto"},e.style),onClick:function(){return s(t,i,r,c)},children:Object(k.jsxs)("div",{style:{padding:"8px"},children:[Object(k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:t}),Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px"},children:[Object(k.jsxs)("div",{children:[i," month(s)"]}),Object(k.jsx)("div",{children:ie.format(r)})]})]})})})},ce=function(e){var n=e.name,t=e.options,i=e.searchValue,a=e.addCharge;return Object(k.jsxs)("div",{style:{margin:"8px"},children:[Object(k.jsx)("div",{children:n}),Object(k.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",width:"100%",flexWrap:"wrap",marginTop:"8px"},children:t.map((function(e){return Object(k.jsx)("div",{children:Object(k.jsx)(re,Object(_.a)(Object(_.a)({},e),{},{searchValue:i,onClick:a}))})}))})]})},le=function(e){var n=e.searchValue,t=e.setSearchValue;return Object(k.jsx)("div",{children:Object(k.jsxs)(D.a,{fullWidth:!0,children:[Object(k.jsx)(B.a,{htmlFor:"standard-adornment-amount",children:"Charge"}),Object(k.jsx)(E.a,{style:{color:"white"},value:n,onChange:function(e){t(e.target.value)}})]})})},se=function(e){var n,t=v(),i=t.setCurrentProfile,r=t.currentProfile,c=C(),l=c.searchValue,s=c.setSearchValue,o=C(),d=o.charges,j=o.setCharges,h=o.finalString,f=o.setFinalString,m=C(),b=m.reduction,x=m.setReduction,g=function(){var e=d.reduce((function(e,n){return e+n.fine}),0),n=d.reduce((function(e,n){return e+n.jail}),0);if(b>0){var t=b/100;n=Math.round(n*(1-t)),e=Math.round(e+e*t)}return[e,n]};a.a.useEffect((function(){!function(){var e=g(),n=Object(u.a)(e,2),t=n[0],i=n[1];f("".concat(i," months | ").concat(ie.format(t)," fine"))}()}),[d,b]);var p=function(e,n,t,i){j([].concat(Object(ee.a)(d),[{name:e,jail:n,fine:t,color:i}]))};return Object(k.jsx)("div",{className:"PageMain",children:r?Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsxs)("div",{className:"PageSectionContainer",style:Object($.a)({width:"100%",display:"flex",flexDirection:"column"},"width","".concat(70,"%")),children:[Object(k.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(k.jsx)("div",{children:"Add Charges"}),Object(k.jsx)("div",{children:Object(k.jsx)(le,{searchValue:l,setSearchValue:s})})]}),Object(k.jsxs)("div",{style:{backgroundColor:"var(--dark)",height:"100%",marginTop:"8px",display:"flex",flexDirection:"column",overflowY:"scroll"},children:[Object(k.jsx)(ce,{name:"Offenses Against Persons",options:ae.OffensesAgainstPersons,searchValue:l,addCharge:p}),Object(k.jsx)(ce,{name:"Offenses Involving Vehicles",options:ae.OffensesInvolvingVehicles,searchValue:l,addCharge:p}),Object(k.jsx)(ce,{name:"General Traffic Violations/Citations",options:ae.GeneralTrafficViolations,searchValue:l,addCharge:p}),Object(k.jsx)(ce,{name:"Offenses Involving Theft",options:ae.OffensesInvolvingTheft,searchValue:l,addCharge:p}),Object(k.jsx)(ce,{name:"Offenses Involving Fraud",options:ae.OffensesInvolvingFraud,searchValue:l,addCharge:p}),Object(k.jsx)(ce,{name:"Offenses Against Public Safety",options:ae.OffensesAgainstPublicSafety,searchValue:l,addCharge:p}),Object(k.jsx)(ce,{name:"Offenses Against Public Order",options:ae.OffensesAgainstPublicOrder,searchValue:l,addCharge:p}),Object(k.jsx)(ce,{name:"Offenses Against Public Health",options:ae.OffensesAgainstPublicHealth,searchValue:l,addCharge:p})]})]}),Object(k.jsx)("div",{className:"PageSectionPadding"}),Object(k.jsxs)("div",{className:"PageSectionContainer",style:(n={width:"100%",display:"flex",flexDirection:"column"},Object($.a)(n,"width","".concat(30,"%")),Object($.a)(n,"overflowY","auto"),n),children:[Object(k.jsxs)("div",{children:[null===r||void 0===r?void 0:r.character_name," (#",null===r||void 0===r?void 0:r.character_id,")"]}),Object(k.jsxs)("div",{style:{marginTop:"8px",height:"100%",display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[Object(k.jsx)("div",{style:{backgroundColor:"var(--dark)"},children:Object(k.jsxs)("div",{style:{padding:"8px"},children:[Object(k.jsxs)("div",{children:["Current Charges (",d.length,")"]}),Object(k.jsx)("div",{style:{fontSize:"14px",fontFamily:"Roboto",height:"350px",overflowY:"auto"},children:d.map((function(e,n){return Object(k.jsx)(re,Object(_.a)(Object(_.a)({},e),{},{style:{margin:"0px",marginTop:"4px",width:"100%"},onClick:function(){!function(e,n){var t=Object(ee.a)(d);t.splice(n,1),j(t)}(e.name,n)}}))}))})]})}),Object(k.jsx)("div",{children:d.length>0&&Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:"Reductions"}),Object(k.jsxs)(ne.a,{style:{width:"100%"},labelId:"demo-simple-select-placeholder-label-label",value:b,onChange:function(e){console.log(e.target.value),x(e.target.value)},displayEmpty:!0,children:[Object(k.jsx)(te.a,{value:0,children:"0%"},0),Object(k.jsx)(te.a,{value:10,children:"10%"},1),Object(k.jsx)(te.a,{value:25,children:"25%"},2),Object(k.jsx)(te.a,{value:50,children:"50%"},3)]}),Object(k.jsx)("div",{style:{marginTop:"8px"},children:"Final"}),Object(k.jsx)("div",{children:h}),Object(k.jsx)(L.a,{style:{backgroundColor:"var(--red)",width:"100%",marginTop:"16px"},onClick:function(){var n=g(),t=Object(u.a)(n,2),a=t[0],c=t[1];e.doNuiAction("chargePlayer",{citizen_id:r.character_id,charges:d.map((function(e){return e.name})),totalFine:a,totalJail:c},!0,!1).then((function(e){e?(j([]),i(!1),x(0)):console.log("RIP FAILED?")}))},children:"Charge"})]})})]})]})]}):Object(k.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"No Profile Selected (Select one from the Profiles tab)"})})};function oe(e){return Object(k.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(k.jsx)("div",{style:{maxWidth:"40%",fontSize:"1.0rem"},children:e.name}),Object(k.jsx)("div",{style:{maxWidth:"60%"},children:Object(k.jsxs)(D.a,{fullWidth:!0,children:[Object(k.jsx)(B.a,{htmlFor:"standard-adornment-amount",children:"Plate"}),Object(k.jsx)(E.a,{style:{color:"white"},value:e.value,onChange:e.handleChange,startAdornment:Object(k.jsx)(M.a,{position:"start",children:"\ud83d\ude98"})})]})})]})}function de(e){var n=e.vehicle,t=e.click;return Object(k.jsxs)(L.a,{className:"ListItemButton",style:{backgroundColor:"var(--dark)",marginTop:"4px"},onClick:t,children:[n.plate," - ",n.model]})}var ue=function(e){var n=v().changeCurrentCharacterId,t=y(),i=t.searchBarValue,r=t.setSearchBarValue,c=t.vehicleResults,l=t.setVehicleResults,o=t.currentVehicle,u=t.setCurrentVehicle,j=function(){var n=Object(d.a)(s.a.mark((function n(t){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.doNuiAction("getVehicleResults",{query:t},[{plate:"ABCD1234",model:"Bati 801RR"},{plate:"ABCD1235",model:"Bati 802RR"}],!0));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=Object(d.a)(s.a.mark((function n(t){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.doNuiAction("getVehicleData",{vin:t},{vin:1,plate:"blabla",owner_id:3,owner_name:"Jean Paul",model:"801BatiRR",created_at:1621274228},!0));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=a.a.useRef(0);a.a.useEffect((function(){f.current=f.current+1;var e=f.current;setTimeout(Object(d.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(f.current===e&&i.length>=3)){n.next=8;break}return n.t0=l,n.next=4,j(i);case 4:n.t1=n.sent,(0,n.t0)(n.t1),n.next=9;break;case 8:l([]);case 9:case"end":return n.stop()}}),n)}))),200)}),[i]);var m=function(){var e=Object(d.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,h(n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"PageMain",children:[Object(k.jsxs)("div",{className:"PageSectionContainer",style:{width:"25%",alignItems:"center",minWidth:"150px",maxWidth:"250px"},children:[Object(k.jsx)(oe,{name:"Vehicles",value:i,handleChange:function(e){r(e.target.value)}}),Object(k.jsx)("div",{className:"ListItemsContainer",children:c.map((function(e){return Object(k.jsx)(de,{vehicle:e,click:function(){m(e.vin)}})}))})]}),Object(k.jsx)("div",{className:"PageSectionPadding"}),Object(k.jsxs)("div",{className:"PageSectionContainer",style:{width:"100%"},children:[!o&&Object(k.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"No Vehicle Selected"}),o&&Object(k.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[Object(k.jsxs)("div",{children:["Vehicle Owner:"," ",Object(k.jsx)(L.a,{style:{backgroundColor:"var(--dark)"},onClick:function(){e.setPage("Profiles"),n(o.owner_id)},children:o.owner_name})]}),Object(k.jsxs)("div",{children:["Plate: ",o.plate]}),Object(k.jsxs)("div",{style:{marginTop:"8px"},children:["Model: ",o.model]}),Object(k.jsxs)("div",{style:{marginTop:"8px"},children:["VIN: ",o.vin]}),Object(k.jsxs)("div",{style:{marginTop:"8px"},children:["First Registered:"," ",new Date(1e3*o.created_at).toLocaleDateString("en-US")]})]})]})]})};function je(e){var n=Object(i.useState)(!1),t=Object(u.a)(n,2);t[0],t[1];return Object(k.jsx)(L.a,{className:"SidebarButton",onClick:function(){e.onClick(e.name)},style:{backgroundColor:e.currentPage===e.name?"#30455f":"var(--dark)",width:"100%",borderRadius:"0px"},size:"large",children:e.name})}var he=function(e){return Object(k.jsx)(f.a,{children:Object(k.jsx)(m.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{height:"100%",width:"100%"},children:e.children})})},fe=Object(j.a)({palette:{type:"dark"}}),me=["Dashboard","Profiles","Charges","Vehicles"];var be=function(){var e=Object(i.useState)(!1),n=Object(u.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)("Dashboard"),l=Object(u.a)(c,2),j=l[0],b=l[1],p=Object(i.useState)(!1),v=Object(u.a)(p,2),O=v[0],y=v[1];function C(e,n,t,i){return w.apply(this,arguments)}function w(){return(w=Object(d.a)(s.a.mark((function e(n,t,i,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||y(!0),e.next=3,g(n,t,i);case 3:return r=e.sent,a||y(!1),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){window.addEventListener("message",(function(e){void 0!==e.data.show&&r(e.data.show)})),window.addEventListener("keydown",(function(e){"Escape"===e.key&&g("closeNui",{},(function(){}))}))}),[]);var P,S=[],N=Object(o.a)(me);try{for(N.s();!(P=N.n()).done;){var I=P.value,T=Object(k.jsx)(je,{name:I,onClick:b,currentPage:j});S.push(T)}}catch(A){N.e(A)}finally{N.f()}return Object(k.jsx)("div",{className:"AppHolder",children:Object(k.jsx)(f.a,{children:t&&Object(k.jsx)(m.a.div,{className:"App",initial:{scaleY:0},exit:{scaleY:0},transition:{duration:.2},animate:t?"open":"closed",variants:{open:{scaleY:1},closed:{scaleY:0}},children:Object(k.jsxs)(h.a,{theme:fe,children:[Object(k.jsx)("div",{className:"Topbar",children:"MDT"}),O&&Object(k.jsx)("div",{className:"Main",children:Object(k.jsx)("div",{className:"Spinner",children:Object(k.jsx)(x.a,{color:"white",size:15,loading:O})})}),Object(k.jsxs)("div",{className:"Main",style:{display:O?"none":"flex"},children:[Object(k.jsx)("div",{className:"Sidebar",children:S}),Object(k.jsxs)("div",{className:"Container",children:["Dashboard"===j&&Object(k.jsx)(he,{children:Object(k.jsx)(R,{doNuiAction:C,setPage:b})}),"Profiles"===j&&Object(k.jsx)(he,{children:Object(k.jsx)(Z,{doNuiAction:C,setPage:b})}),"Charges"===j&&Object(k.jsx)(he,{children:Object(k.jsx)(se,{doNuiAction:C,setPage:b})}),"Vehicles"===j&&Object(k.jsx)(he,{children:Object(k.jsx)(ue,{doNuiAction:C,setPage:b})})]})]})]})})})})},xe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,314)).then((function(n){var t=n.getCLS,i=n.getFID,a=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),i(e),a(e),r(e),c(e)}))};c.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(be,{})}),document.getElementById("root")),xe()},52:function(e,n,t){}},[[267,1,2]]]);
//# sourceMappingURL=main.2c56e994.chunk.js.map