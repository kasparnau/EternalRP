(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{171:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(16),r=a.n(i),l=(a(171),a(105)),o=a.n(l),s=a(139),d=a(140),j=a(6),h=(a(39),a(68)),u=a(257),b=a(259),m=a(258),O=a(146),x=a.n(O);var f=function(e,t,a){return new Promise((function(a){fetch("https://".concat("jp-factions","/nuiAction"),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({action:e,data:t})}).then((function(e){return e.json()})).then((function(e){a(e)}))}))},v=a(1);function g(e){return Object(v.jsxs)("div",{style:{width:"40%",display:"flex",fontFamily:"DM Mono",fontSize:"24px"},children:[Object(v.jsxs)("div",{style:{textAlign:"left",width:"50%"},children:[e.name,":"]}),Object(v.jsx)("div",{style:{textAlign:"right",width:"50%"},children:e.value})]})}function p(){return Object(v.jsx)("div",{style:{height:"8px"}})}var k=function(e){var t=e.doNuiAction,a=c.a.useState([]),n=Object(j.a)(a,2),i=n[0],r=n[1];return c.a.useEffect((function(){t("getFactionInfo",[],{faction_name:"LSPD",member_count:95,max_members:99}).then((function(e){r(e)}))}),[]),Object(v.jsx)("div",{className:"FactionInfoMain",children:Object(v.jsx)("div",{className:"PageSectionContainer",children:Object(v.jsxs)("div",{className:"FactionInfoMainText",children:[Object(v.jsx)(g,{name:"Faction Name",value:i.faction_name}),Object(v.jsx)(p,{}),Object(v.jsx)(g,{name:"Members",value:i.member_count}),Object(v.jsx)(p,{}),Object(v.jsx)(g,{name:"Max Members",value:i.max_members})]})})})},C=a(23),y=a(33),w=a(70),A=a.n(w),N=a(29),R=a(65),S=a(83),M=a(114),_=a(254),I=a(255),L=a(256),D=a(112),E=a(57),P=a(7),F=a(249),T=a(64),V=a(250),B=a(253),H=a(247),G=a(251),J=a(252),Y=a(248),z=a(73),W=a.n(z),K=a(72),U=a.n(K),q=a(104),X=a.n(q),$=(a(133),Object(N.a)({root:{"& > *":{borderBottom:"unset",color:"white"}},head:{color:"white"}})),Q=Object(P.a)({root:{borderBottom:"none"}})(H.a);function Z(e){var t=e.row,a=c.a.useState(!1),n=Object(j.a)(a,2),i=n[0],r=n[1],l=$();function o(t,a){e.doAction(t,a),r(!1)}return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsxs)(Y.a,{className:l.root,children:[Object(v.jsx)(Q,{children:Object(v.jsx)(T.a,{"aria-label":"expand row",size:"small",onClick:function(){return r(!i)},children:i?Object(v.jsx)(U.a,{}):Object(v.jsx)(W.a,{})})}),Object(v.jsx)(Q,{children:t.cid}),Object(v.jsx)(Q,{children:t.name}),Object(v.jsx)(Q,{children:t.rank}),Object(v.jsx)(Q,{children:t.alias}),Object(v.jsx)(Q,{children:Object(v.jsx)(X.a,{unix:!0,tz:"Europe/Helsinki",format:"MMM DD, YYYY HH:mm:ss",children:t.lastLive})})]}),Object(v.jsx)(Y.a,{children:Object(v.jsx)(Q,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(v.jsx)(F.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(v.jsx)("div",{children:Object(v.jsx)(V.a,{size:"small","aria-label":"purchases",children:Object(v.jsxs)("div",{style:{paddingBottom:"8px",display:"flex",justifyContent:"center"},children:[Object(v.jsx)(R.a,{style:{backgroundColor:"#358cff"},onClick:function(){o("activityLog",t)},children:"Activity Log"}),Object(v.jsx)(R.a,{style:{backgroundColor:"#7a7e89",marginLeft:"8px"},onClick:function(){o("changeRank",t)},children:"Change Rank"}),Object(v.jsx)(R.a,{style:{backgroundColor:"#7a7e89",marginLeft:"8px"},onClick:function(){o("changeAlias",t)},children:"Change Alias"}),Object(v.jsx)(R.a,{style:{backgroundColor:"#da5259",marginLeft:"8px"},onClick:function(){o("remove",t)},children:"Remove"})]})})})})})})]})}var ee=function(e){var t=$(),a=e.doAction;return Object(v.jsx)(G.a,{className:t.head,children:Object(v.jsxs)(V.a,{"aria-label":"collapsible table",children:[Object(v.jsx)(J.a,{children:Object(v.jsxs)(Y.a,{children:[Object(v.jsx)(Q,{}),Object(v.jsx)(Q,{children:Object(v.jsx)("b",{children:"CID"})}),Object(v.jsx)(Q,{children:Object(v.jsx)("b",{children:"Name"})}),Object(v.jsx)(Q,{children:Object(v.jsx)("b",{children:"Rank"})}),Object(v.jsx)(Q,{children:Object(v.jsx)("b",{children:"Alias"})}),Object(v.jsx)(Q,{children:Object(v.jsx)("b",{children:"Last Live"})})]})}),Object(v.jsx)(B.a,{children:e.rows.map((function(e){return Object(v.jsx)(Z,{row:e,doAction:a},e.cid)}))})]})})},te=Object(N.a)((function(e){return{root:{"& .MuiTextField-root":{color:"white"},"& .MuiTypography-colorTextSecondary":{color:"white"},"& .MuiInputLabel-formControl":{color:"white"},"& .MuiFilledInput-input":{color:"white"}}}}));function ae(e){var t=e.name,a=e.values,n=e.handleSearchbarVal,c=e.doPlayerAction,i=te();return Object(v.jsxs)("div",{className:"SearchBar",children:[Object(v.jsx)("div",{style:{fontFamily:"DM Mono",fontSize:"24px"},children:t}),Object(v.jsx)("div",{style:{fontFamily:"DM Mono",fontSize:"24px"},children:Object(v.jsx)(R.a,{style:{backgroundColor:"rgb(37 146 81)"},onClick:function(){c("addMember")},children:"ADD MEMBER"})}),Object(v.jsx)("div",{children:Object(v.jsxs)(S.a,{fullWidth:!0,className:i.root,children:[Object(v.jsx)(M.a,{htmlFor:"standard-adornment-amount",children:"Name"}),Object(v.jsx)(_.a,{style:{color:"white"},id:"standard-adornment-amount",value:a.searchBar,onChange:function(e){n(e)},startAdornment:Object(v.jsx)(I.a,{position:"start",children:"\ud83e\uddcd"})})]})})]})}function ne(e){var t=e.closeModal,a=e.targetPlr,n=e.values,c=e.setValue,i=e.setAlias,r=te();return Object(v.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(v.jsxs)("div",{className:"ModalTopbar",children:[Object(v.jsx)(R.a,{style:{backgroundColor:"rgb(146, 37, 37)"},onClick:t,children:"Close"}),Object(v.jsxs)("div",{children:["Change Alias (",a.name,")"]})]}),Object(v.jsx)("div",{style:{marginTop:"15%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsxs)(S.a,{className:r.root,style:{width:"50%"},variant:"filled",children:[Object(v.jsx)(M.a,{htmlFor:"filled-adornment-amount",children:"Alias"}),Object(v.jsx)(L.a,{id:"filled-adornment-amount",value:n.alias,onChange:function(e){c("alias",e.target.value)}})]})}),Object(v.jsx)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(R.a,{style:{width:"50%",backgroundColor:"rgb(37 146 81)"},onClick:i,children:"Set Alias"})})]})}function ce(e){var t=e.closeModal,a=e.values,n=e.setValue,c=e.addMember,i=te();return Object(v.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(v.jsxs)("div",{className:"ModalTopbar",children:[Object(v.jsx)(R.a,{style:{backgroundColor:"rgb(146, 37, 37)"},onClick:t,children:"Close"}),Object(v.jsx)("div",{children:"Add Member"})]}),Object(v.jsx)("div",{style:{marginTop:"15%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsxs)(S.a,{className:i.root,style:{width:"50%"},variant:"filled",children:[Object(v.jsx)(M.a,{htmlFor:"filled-adornment-amount",children:"CID (Citizen ID)"}),Object(v.jsx)(L.a,{id:"filled-adornment-amount",value:a.newMemberCID,onChange:function(e){n("newMemberCID",e.target.value)}})]})}),Object(v.jsx)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(R.a,{style:{width:"50%",backgroundColor:"rgb(37 146 81)"},onClick:function(e){c()},children:"ADD"})})]})}function ie(e){var t=e.closeModal,a=e.targetPlr,n=e.values,c=e.changeRank,i=e.rank,r=e.setRank,l=te();return Object(v.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(v.jsxs)("div",{className:"ModalTopbar",children:[Object(v.jsx)(R.a,{style:{backgroundColor:"rgb(146, 37, 37)"},onClick:t,children:"Close"}),Object(v.jsxs)("div",{children:["Change Rank (",a.name,")"]})]}),Object(v.jsx)("div",{style:{marginTop:"15%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsxs)(S.a,{className:l.root,style:{width:"50%"},variant:"filled",children:[Object(v.jsx)(M.a,{id:"demo-simple-select-placeholder-label-label",children:"Rank"}),Object(v.jsx)(D.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",value:i,onChange:function(e){r(e.target.value)},displayEmpty:!0,children:n.rankOptions.map((function(e,t){return Object(v.jsxs)(E.a,{value:e.rank_name,children:["[",e.rank_level,"] ",e.rank_name]},t)}))})]})}),Object(v.jsx)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(R.a,{style:{width:"50%",backgroundColor:"rgb(37 146 81)"},onClick:function(e){c()},children:"SET"})})]})}var re=function(e){var t=e.doNuiAction,a=c.a.useState([]),n=Object(j.a)(a,2),i=n[0],r=n[1],l=c.a.useState([]),o=Object(j.a)(l,2),s=o[0],d=o[1],h=c.a.useState(""),u=Object(j.a)(h,2),b=u[0],m=u[1],O=c.a.useState({alias:"",newMemberCID:"0",searchBar:"",rankOptions:[]}),x=Object(j.a)(O,2),f=x[0],g=x[1];function p(e,t){console.log("Set ".concat(e," to ").concat(t)),g(Object(y.a)(Object(y.a)({},f),{},Object(C.a)({},e,t)))}function k(){t("getFactionMembers",[],[{character_id:3,character_name:"Pede Homo",rank_name:"Cadet",rank_level:3,alias:"001",lastLive:1619890577},{character_id:4,character_name:"Jah Pede",rank_name:"Officer",rank_level:4,alias:"002",lastLive:1619890577},{character_id:24,character_name:"Jah Pede",rank_name:null,rank_level:null,alias:"002",lastLive:1619890577}]).then((function(e){for(var t=[],a=0;a<e.length;a++)t.push({cid:e[a].character_id,name:e[a].character_name,rank:e[a].rank_name,alias:e[a].alias,lastLive:e[a].lastLive,rank_level:e[a].rank_level});r(t.sort(E)),d(t.sort(E))}))}var w=c.a.useState(!1),N=Object(j.a)(w,2),R=N[0],S=N[1],M=c.a.useState(!1),_=Object(j.a)(M,2),I=_[0],L=_[1],D=function(e,t){return e.rank_level<t.rank_level?1:e.rank_level>t.rank_level?-1:0},E=function(e,t){return e.rank_level<t.rank_level?1:e.rank_level>t.rank_level?-1:0};function P(e,a){S(a),"remove"===e?t("removeMember",{player:a},[]).then((function(){k()})):"changeAlias"===e?(L("changeAlias"),p("alias",a.alias)):"addMember"===e?(L("addMember"),p("newMemberCID","")):"changeRank"===e&&(m(a.rank),L("changeRank"),t("getFactionRanks",{},[{rank_name:"Cadet",rank_level:1},{rank_name:"Officer",rank_level:2},{rank_name:"Senior Officer",rank_level:3},{rank_name:"Sergeant",rank_level:4}],!0).then((function(e){p("rankOptions",e.sort(D))})))}function F(){L(!1)}return c.a.useEffect((function(){k()}),[]),Object(v.jsxs)("div",{className:"FactionMembersMain",children:[Object(v.jsx)("div",{className:"PageSectionContainer",style:{width:"100%",height:"10%",alignItems:"center"},children:Object(v.jsx)(ae,{name:"Members",values:f,handleSearchbarVal:function(e){var t=e.target.value;if(p("searchBar",t),0===e.target.value.length)d(i.sort(E));else{for(var a=[],n=0;n<i.length;n++)i[n].name.toLowerCase().includes(t.toLowerCase())&&a.push(i[n]);d(a.sort(E))}},doPlayerAction:P})}),Object(v.jsx)("div",{className:"PageSectionPadding"}),Object(v.jsxs)("div",{className:"PageSectionContainer",style:{width:"100%",height:"90%"},children:[Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(A.a,{className:"Modal",isOpen:!1!==I,onRequestClose:F,style:{overlay:{backgroundColor:"rgba(255, 255, 255, 0)"}},ariaHideApp:!1,animation:!1,children:Object(v.jsxs)("div",{className:"ModalContainer",children:["changeAlias"===I&&Object(v.jsx)(ne,{closeModal:F,targetPlr:R,values:f,setValue:p,setAlias:function(e){F(),t("setAlias",{player:R,alias:f.alias},[]).then((function(){k()}),!0)}}),"addMember"===I&&Object(v.jsx)(ce,{closeModal:F,targetPlr:R,values:f,setValue:p,addMember:function(){F(),t("addMember",{cid:f.newMemberCID},[]).then((function(){k()}))}}),"changeRank"===I&&Object(v.jsx)(ie,{closeModal:F,targetPlr:R,values:f,setValue:p,changeRank:function(){F(),t("changeRank",{player:R,rank:b},[]).then((function(){k()}),!0)},rank:b,setRank:m})]})})}),Object(v.jsx)(ee,{rows:s,doAction:P})]})]})},le=a(92),oe=a(111),se=a(150),de=a(148),je=a(138),he=Object(N.a)((function(e){return Object(je.a)({root:{alignItems:"center",lineHeight:"24px",width:"100%",height:"100%",position:"relative",display:"flex","& .cellValue":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}})})),ue=n.memo((function(e){var t=e.width,a=e.value,c=n.useRef(null),i=n.useRef(null),r=n.useRef(null),l=n.useState(null),o=Object(j.a)(l,2),s=o[0],d=o[1],h=he(),u=n.useState(!1),b=Object(j.a)(u,2),m=b[0],O=b[1],x=n.useState(!1),f=Object(j.a)(x,2),g=f[0],p=f[1];return n.useEffect((function(){if(m)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||O(!1)}}),[O,m]),Object(v.jsxs)("div",{ref:c,className:h.root,onMouseEnter:function(){var e=Object(le.b)(r.current);p(e),d(i.current),O(!0)},onMouseLeave:function(){O(!1)},children:[Object(v.jsx)("div",{ref:i,style:{height:1,width:t,display:"block",position:"absolute",top:0}}),Object(v.jsx)("div",{ref:r,className:"cellValue",children:a}),g&&Object(v.jsx)(oe.a,{open:m&&null!=s,anchorEl:s,style:{width:t,marginLeft:-17},children:Object(v.jsx)(se.a,{elevation:1,style:{minHeight:c.current.offsetHeight-3},children:Object(v.jsx)(de.a,{variant:"body2",style:{padding:8},children:a})})})]})}));var be=[{field:"id",headerName:"ID",width:75},{field:"character_id",headerName:"CID",width:75,sortable:!1},{field:"character_name",headerName:"Person",width:150,sortable:!1},{field:"action",headerName:"Action Type",width:200,sortable:!1},{field:"content",headerName:"Content",sortable:!1,width:375,renderCell:function(e){return Object(v.jsx)(ue,{value:e.value?e.value.toString():"",width:e.colDef.width})}},{field:"timestamp",headerName:"Timestamp",width:180,sortable:!1}];var me=function(e){return Object(v.jsx)("div",{style:{height:"100%",border:"none !important"},children:Object(v.jsx)(le.a,{style:{".MuiDataGrid-row, .MuiDataGrid-root .MuiDataGrid-cell, .rendering-zone":{"max-height":"none !important"},".MuiDataGrid-root .MuiDataGrid-window":{position:"relative !important"},".MuiDataGrid-root .MuiDataGrid-viewport":{"max-height":"none !important"},".MuiDataGrid-root":{height:"auto !important"}},rows:e.rows,columns:be,pageSize:15,disableSelectionOnClick:!0,disableColumnMenu:!0,autoPageSize:!0,sortModel:[{field:"id",sort:"desc"}],filterModel:{items:e.filters}})})},Oe=a(78),xe=a.n(Oe);function fe(e){var t=e.values,a=e.setValue;return Object(v.jsxs)("div",{className:"SearchBar",children:[Object(v.jsx)("div",{children:Object(v.jsxs)(S.a,{fullWidth:!0,children:[Object(v.jsx)(M.a,{htmlFor:"standard-adornment-amount",children:"Action Type"}),Object(v.jsx)(_.a,{style:{color:"white"},id:"standard-adornment-amount",value:t.SearchAction,onChange:function(e){a("SearchAction",e.target.value)},startAdornment:Object(v.jsx)(I.a,{position:"start",children:"\ud83d\udcdc"})})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(S.a,{fullWidth:!0,children:[Object(v.jsx)(M.a,{htmlFor:"standard-adornment-amount",children:"Content"}),Object(v.jsx)(_.a,{style:{color:"white"},id:"standard-adornment-amount",value:t.SearchContent,onChange:function(e){a("SearchContent",e.target.value)},startAdornment:Object(v.jsx)(I.a,{position:"start",children:"\ud83d\udce6"})})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(S.a,{fullWidth:!0,children:[Object(v.jsx)(M.a,{htmlFor:"standard-adornment-amount",children:"Player CID"}),Object(v.jsx)(_.a,{style:{color:"white"},id:"standard-adornment-amount",value:t.SearchCID,type:"number",onChange:function(e){a("SearchCID",e.target.value)},startAdornment:Object(v.jsx)(I.a,{position:"start",children:"\ud83e\uddcd"})})]})})]})}var ve=function(e){var t=e.doNuiAction,a=c.a.useState([]),n=Object(j.a)(a,2),i=n[0],r=n[1],l=c.a.useState({SearchCID:"",SearchAction:"",SearchContent:""}),o=Object(j.a)(l,2),s=o[0],d=o[1],h=c.a.useRef(0),u=c.a.useState([]),b=Object(j.a)(u,2),m=b[0],O=b[1];return c.a.useEffect((function(){!function(){h.current+=1;var e=h.current;setTimeout((function(){if(h.current===e){var t=[];s.SearchAction.length>0&&t.push({columnField:"action",operatorValue:"contains",value:s.SearchAction}),s.SearchCID.length>0&&t.push({columnField:"character_id",operatorValue:"contains",value:s.SearchCID}),s.SearchContent.length>0&&t.push({columnField:"content",operatorValue:"contains",value:s.SearchContent}),console.log(t),O(t)}}),100)}()}),[s]),c.a.useEffect((function(){t("getFactionLogs",[],[{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"CHANGE ALIAS",character_name:"Juhan Kallas Lol",content:"Added member. CID: 9",timestamp:1619946644},{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"CHANGE ALIAS",character_name:"Juhan Kallas Lol",content:"Added member. CID: 9",timestamp:1619946644},{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"CHANGE ALIAS",character_name:"Juhan Kallas Lol",content:"Added member. CID: 9",timestamp:1619946644},{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"CHANGE ALIAS",character_name:"Juhan Kallas Lol",content:"Added member. CID: 9",timestamp:1619946644},{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"CHANGE ALIAS",character_name:"Juhan Kallas Lol",content:"Added member. CID: 9",timestamp:1619946644},{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"CHANGE ALIAS",character_name:"Juhan Kallas Lol",content:"Added member. CID: 9",timestamp:1619946644},{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"CHANGE ALIAS",character_name:"Juhan Kallas Lol",content:"Added member. CID: 9",timestamp:1619946644},{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"CHANGE ALIAS",character_name:"Juhan Kallas Lol",content:"Added member. CID: 9",timestamp:1619946644},{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"CHANGE ALIAS",character_name:"Juhan Kallas Lol",content:"Added member. CID: 9",timestamp:1619946644},{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"CHANGE ALIAS",character_name:"Juhan Kallas Lol",content:"Added member. CID: 9",timestamp:1619946644},{id:1,character_id:3,action:"PLAYER",character_name:"Jah Pede",content:"Changed Alias From 001 to NEW. CID: 4",timestamp:1619861133},{id:1,character_id:3002,action:"Remove Rank",character_name:"Juhan Kallas Lol",content:"Rank Name: BIG SHERIFF :sunglasses:| Rank Level: 8 vRank Name: BIG SHERIFF :sunglasses:| Rank Level: 8",timestamp:1619946644}]).then((function(e){e.forEach((function(e,t){e.timestamp=xe.a.unix(e.timestamp).tz("Europe/Helsinki").format("MMM DD, YYYY HH:mm:ss")})),r(e)}))}),[]),Object(v.jsxs)("div",{className:"FactionMembersMain",children:[Object(v.jsx)("div",{className:"PageSectionContainer",style:{width:"100%",height:"10%",alignItems:"center"},children:Object(v.jsx)(fe,{values:s,setValue:function(e,t){var a=t.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"");d(Object(y.a)(Object(y.a)({},s),{},Object(C.a)({},e,a)))}})}),Object(v.jsx)("div",{className:"PageSectionPadding"}),Object(v.jsx)("div",{className:"PageSectionContainer",style:{width:"100%",height:"90%"},children:Object(v.jsx)(me,{rows:i,values:s,filters:m})})]})},ge=Object(N.a)({root:{"& > *":{borderBottom:"unset",color:"white"}},head:{color:"white"}}),pe=Object(P.a)({root:{borderBottom:"none"}})(H.a);function ke(e){var t=e.row,a=e.doRankAction,n=c.a.useState(!1),i=Object(j.a)(n,2),r=i[0],l=i[1],o=ge();return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsxs)(Y.a,{className:o.root,children:[Object(v.jsx)(pe,{children:Object(v.jsx)(T.a,{"aria-label":"expand row",size:"small",onClick:function(){return l(!r)},children:r?Object(v.jsx)(U.a,{}):Object(v.jsx)(W.a,{})})}),Object(v.jsx)(pe,{align:"left",children:t.rank_level}),Object(v.jsx)(pe,{align:"left",children:t.rank_name})]}),Object(v.jsx)(Y.a,{children:Object(v.jsx)(pe,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(v.jsx)(F.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(v.jsx)("div",{children:Object(v.jsx)(V.a,{size:"small","aria-label":"purchases",children:Object(v.jsxs)("div",{style:{paddingBottom:"8px",display:"flex",justifyContent:"center"},children:[Object(v.jsx)(R.a,{style:{backgroundColor:"#358cff"},onClick:function(){a("changeRankLevel",t)},children:"Change Rank Level"}),Object(v.jsx)(R.a,{style:{backgroundColor:"#358cff",marginLeft:"8px",marginRight:"8px"},onClick:function(){a("changeRankName",t)},children:"Change Rank Name"}),Object(v.jsx)(R.a,{style:{backgroundColor:"#da5259"},onClick:function(){a("removeRank",t)},children:"Remove Rank"})]})})})})})})]})}var Ce=function(e){var t=ge();return Object(v.jsx)(G.a,{className:t.head,children:Object(v.jsxs)(V.a,{"aria-label":"collapsible table",children:[Object(v.jsx)(J.a,{children:Object(v.jsxs)(Y.a,{children:[Object(v.jsx)(pe,{}),Object(v.jsx)(pe,{children:Object(v.jsx)("b",{children:"Rank Level"})}),Object(v.jsx)(pe,{children:Object(v.jsx)("b",{children:"Rank Name"})})]})}),Object(v.jsx)(B.a,{children:e.rows.map((function(t){return Object(v.jsx)(ke,{row:t,doRankAction:e.doRankAction},t.id)}))})]})})},ye=Object(N.a)((function(e){return{root:{"& .MuiTextField-root":{color:"white"},"& .MuiTypography-colorTextSecondary":{color:"white"},"& .MuiInputLabel-formControl":{color:"white"},"& .MuiFilledInput-input":{color:"white"}}}}));function we(e){var t=e.closeModal,a=e.values,n=e.setValue,c=e.changeRankLevel,i=ye();return Object(v.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(v.jsxs)("div",{className:"ModalTopbar",children:[Object(v.jsx)(R.a,{style:{backgroundColor:"rgb(146, 37, 37)"},onClick:t,children:"Close"}),Object(v.jsx)("div",{children:"Change Rank Level"})]}),Object(v.jsx)("div",{style:{marginTop:"15%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsxs)(S.a,{className:i.root,style:{width:"50%"},variant:"filled",children:[Object(v.jsx)(M.a,{htmlFor:"filled-adornment-amount",children:"Rank Level"}),Object(v.jsx)(L.a,{id:"filled-adornment-amount",value:a.newRankLevel,onChange:function(e){n("newRankLevel",e.target.value)}})]})}),Object(v.jsx)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(R.a,{style:{width:"50%",backgroundColor:"rgb(37 146 81)"},onClick:c,children:"Set Rank Level"})})]})}function Ae(e){var t=e.closeModal,a=e.values,n=e.setValue,c=e.changeRankName,i=ye();return Object(v.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(v.jsxs)("div",{className:"ModalTopbar",children:[Object(v.jsx)(R.a,{style:{backgroundColor:"rgb(146, 37, 37)"},onClick:t,children:"Close"}),Object(v.jsx)("div",{children:"Change Rank Name"})]}),Object(v.jsx)("div",{style:{marginTop:"15%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsxs)(S.a,{className:i.root,style:{width:"50%"},variant:"filled",children:[Object(v.jsx)(M.a,{htmlFor:"filled-adornment-amount",children:"Rank Name"}),Object(v.jsx)(L.a,{id:"filled-adornment-amount",value:a.newRankName,onChange:function(e){n("newRankName",e.target.value)}})]})}),Object(v.jsx)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(R.a,{style:{width:"50%",backgroundColor:"rgb(37 146 81)"},onClick:c,children:"Set Rank Name"})})]})}function Ne(e){var t=e.closeModal,a=e.values,n=e.setValue,c=e.addRank,i=ye();return Object(v.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(v.jsxs)("div",{className:"ModalTopbar",children:[Object(v.jsx)(R.a,{style:{backgroundColor:"rgb(146, 37, 37)"},onClick:t,children:"Close"}),Object(v.jsx)("div",{children:"Add Rank"})]}),Object(v.jsx)("div",{style:{marginTop:"15%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsxs)(S.a,{className:i.root,style:{width:"50%"},variant:"filled",children:[Object(v.jsx)(M.a,{htmlFor:"filled-adornment-amount",children:"Rank Name"}),Object(v.jsx)(L.a,{id:"filled-adornment-amount",value:a.newRankName,onChange:function(e){n("newRankName",e.target.value)}})]})}),Object(v.jsx)("div",{style:{marginTop:"5%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsxs)(S.a,{className:i.root,style:{width:"50%"},variant:"filled",children:[Object(v.jsx)(M.a,{htmlFor:"filled-adornment-amount",children:"Rank Level"}),Object(v.jsx)(L.a,{type:"number",id:"filled-adornment-amount",value:a.newRankLevel,onChange:function(e){n("newRankLevel",e.target.value)}})]})}),Object(v.jsx)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(R.a,{style:{width:"50%",backgroundColor:"rgb(37 146 81)"},onClick:function(e){c()},children:"ADD"})})]})}function Re(e){var t=e.name,a=e.doRankAction;return Object(v.jsxs)("div",{className:"SearchBar",children:[Object(v.jsx)("div",{style:{fontFamily:"DM Mono",fontSize:"24px"},children:t}),Object(v.jsx)("div",{style:{fontFamily:"DM Mono",fontSize:"24px"},children:Object(v.jsx)(R.a,{style:{backgroundColor:"rgb(37 146 81)"},onClick:function(){a("addRank")},children:"ADD RANK"})})]})}var Se=function(e){var t=e.doNuiAction,a=c.a.useState([]),n=Object(j.a)(a,2),i=n[0],r=n[1],l=c.a.useState({alias:"",newMemberCID:"0"}),o=Object(j.a)(l,2),s=o[0],d=o[1];function h(e,t){console.log("Set ".concat(e," to ").concat(t)),d(Object(y.a)(Object(y.a)({},s),{},Object(C.a)({},e,t)))}function u(){t("getFactionRanks",[],[{id:1,rank_name:"Cadet",rank_level:1},{id:2,rank_name:"Officer",rank_level:2},{id:3,rank_name:"Senior Officer",rank_level:3},{id:4,rank_name:"Sergeant",rank_level:4}]).then((function(e){r(e.sort(g))}))}var b=c.a.useRef(),m=c.a.useState(!1),O=Object(j.a)(m,2),x=O[0],f=O[1],g=function(e,t){return e.rank_level<t.rank_level?1:e.rank_level>t.rank_level?-1:0};function p(e,a){console.table(a),"removeRank"===e?t("removeRank",{name:a.rank_name},[]).then((function(){u()})):"addRank"===e?f("addRank"):"changeRankName"===e?(b.current=a,h("newRankName",a.rank_name),f("changeRankName")):"changeRankLevel"===e&&(b.current=a,h("newRankLevel",a.rank_level),f("changeRankLevel"))}function k(){f(!1)}return c.a.useEffect((function(){u()}),[]),Object(v.jsxs)("div",{className:"FactionMembersMain",children:[Object(v.jsx)("div",{className:"PageSectionContainer",style:{width:"100%",height:"10%",alignItems:"center"},children:Object(v.jsx)(Re,{name:"Ranks",values:s,doRankAction:p})}),Object(v.jsx)("div",{className:"PageSectionPadding"}),Object(v.jsxs)("div",{className:"PageSectionContainer",style:{width:"100%",height:"90%"},children:[Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(A.a,{className:"Modal",isOpen:!1!==x,onRequestClose:k,style:{overlay:{backgroundColor:"rgba(255, 255, 255, 0)"}},ariaHideApp:!1,animation:!1,children:Object(v.jsxs)("div",{className:"ModalContainer",children:["changeRankLevel"===x&&Object(v.jsx)(we,{closeModal:k,values:s,setValue:h,changeRankLevel:function(){k(),t("changeRankLevel",{rank:b.current,level:s.newRankLevel},[]).then((function(){u()}),!0)}}),"changeRankName"===x&&Object(v.jsx)(Ae,{closeModal:k,values:s,setValue:h,changeRankName:function(){k(),t("changeRankName",{rank:b.current,name:s.newRankName},[]).then((function(){u()}),!0)}}),"addRank"===x&&Object(v.jsx)(Ne,{closeModal:k,values:s,setValue:h,addRank:function(){k(),t("addRank",{name:s.newRankName,level:s.newRankLevel},[]).then((function(){u()}))}})]})})}),Object(v.jsx)(Ce,{rows:i,doRankAction:p})]})]})},Me=Object(N.a)({root:{"& > *":{borderBottom:"unset",color:"white"}},head:{color:"white"}}),_e=Object(P.a)({root:{borderBottom:"none"}})(H.a);function Ie(e){var t=e.row,a=c.a.useState(!1),n=Object(j.a)(a,2),i=n[0],r=n[1],l=Me();function o(t,a){e.doAction(t,a),r(!1)}return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsxs)(Y.a,{className:l.root,children:[Object(v.jsx)(_e,{children:Object(v.jsx)(T.a,{"aria-label":"expand row",size:"small",onClick:function(){return r(!i)},children:i?Object(v.jsx)(U.a,{}):Object(v.jsx)(W.a,{})})}),Object(v.jsx)(_e,{children:t.plate}),Object(v.jsx)(_e,{children:t.name}),Object(v.jsx)(_e,{children:t.inGarage})]}),Object(v.jsx)(Y.a,{children:Object(v.jsx)(_e,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(v.jsx)(F.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(v.jsx)("div",{children:Object(v.jsx)(V.a,{size:"small","aria-label":"purchases",children:Object(v.jsxs)("div",{style:{paddingBottom:"8px",display:"flex",justifyContent:"center"},children:[Object(v.jsx)(R.a,{style:{backgroundColor:"#358cff"},onClick:function(){o("activityLog",t)},children:"Activity Log"}),Object(v.jsx)(R.a,{style:{backgroundColor:"#7a7e89",marginLeft:"8px"},onClick:function(){o("changeRank",t)},children:"Change Rank"}),Object(v.jsx)(R.a,{style:{backgroundColor:"#7a7e89",marginLeft:"8px"},onClick:function(){o("changeAlias",t)},children:"Change Alias"}),Object(v.jsx)(R.a,{style:{backgroundColor:"#da5259",marginLeft:"8px"},onClick:function(){o("remove",t)},children:"Remove"})]})})})})})})]})}var Le=function(e){var t=Me(),a=e.doAction;return Object(v.jsx)(G.a,{className:t.head,children:Object(v.jsxs)(V.a,{"aria-label":"collapsible table",children:[Object(v.jsx)(J.a,{children:Object(v.jsxs)(Y.a,{children:[Object(v.jsx)(_e,{}),Object(v.jsx)(_e,{children:Object(v.jsx)("b",{children:"Plate"})}),Object(v.jsx)(_e,{children:Object(v.jsx)("b",{children:"Model"})}),Object(v.jsx)(_e,{children:Object(v.jsx)("b",{children:"Status"})})]})}),Object(v.jsx)(B.a,{children:e.rows.map((function(e){return Object(v.jsx)(Ie,{row:e,doAction:a},e.vin)}))})]})})},De=Object(N.a)((function(e){return{root:{"& .MuiTextField-root":{color:"white"},"& .MuiTypography-colorTextSecondary":{color:"white"},"& .MuiInputLabel-formControl":{color:"white"},"& .MuiFilledInput-input":{color:"white"}}}}));function Ee(e){var t=e.name,a=e.doRankAction,n=e.values,c=e.handleVal,i=De();return Object(v.jsxs)("div",{className:"SearchBar",children:[Object(v.jsx)("div",{style:{fontFamily:"DM Mono",fontSize:"24px"},children:t}),Object(v.jsx)("div",{style:{fontFamily:"DM Mono",fontSize:"24px"},children:Object(v.jsx)(R.a,{style:{backgroundColor:"rgb(37 146 81)"},onClick:function(){a("buyVehicle")},children:"BUY VEHICLE"})}),Object(v.jsx)("div",{children:Object(v.jsxs)(S.a,{fullWidth:!0,className:i.root,children:[Object(v.jsx)(M.a,{htmlFor:"standard-adornment-amount",children:"Plate"}),Object(v.jsx)(_.a,{style:{color:"white"},id:"standard-adornment-amount",value:n.searchBar,onChange:function(e){c(e.target.value)},startAdornment:Object(v.jsx)(I.a,{position:"start",children:"\ud83d\udcdf"})})]})})]})}var Pe=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function Fe(e){var t=e.closeModal,a=e.values,n=e.buyVehicle,c=e.currVehOption,i=e.setCurrVehOption,r=De();return Object(v.jsxs)("div",{style:{height:"100%",weight:"100%"},children:[Object(v.jsxs)("div",{className:"ModalTopbar",children:[Object(v.jsx)(R.a,{style:{backgroundColor:"rgb(146, 37, 37)"},onClick:t,children:"Close"}),Object(v.jsx)("div",{children:"Buy Vehicle"})]}),Object(v.jsx)("div",{style:{marginTop:"15%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsxs)(S.a,{className:r.root,style:{width:"100%"},variant:"filled",children:[Object(v.jsx)(M.a,{id:"demo-simple-select-placeholder-label-label",children:"Vehicle"}),Object(v.jsx)(D.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",value:c,onChange:function(e){i(e.target.value)},displayEmpty:!0,children:a.vehicleOptions.map((function(e,t){return Object(v.jsxs)(E.a,{value:e.id,children:["[",Pe.format(e.cost),"]"," ",e.name]},e.id)}))})]})}),Object(v.jsx)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(R.a,{style:{width:"100%",backgroundColor:"rgb(37 146 81)"},onClick:function(e){n()},children:"BUY"})})]})}var Te=function(e,t){return e.vin<t.vin?1:e.vin>t.vin?-1:0},Ve=function(e,t){return e.cost<t.cost?1:e.cost>t.cost?-1:0};var Be=function(e){var t=e.doNuiAction,a=c.a.useState([]),n=Object(j.a)(a,2),i=n[0],r=n[1],l=c.a.useState([]),o=Object(j.a)(l,2),s=o[0],d=o[1],h=c.a.useState({vehicleOptions:[],searchBar:""}),u=Object(j.a)(h,2),b=u[0],m=u[1],O=c.a.useState(1),x=Object(j.a)(O,2),f=x[0],g=x[1];function p(e,t){console.log("Set ".concat(e," to ").concat(t)),m(Object(y.a)(Object(y.a)({},b),{},Object(C.a)({},e,t)))}function k(){t("getVehicles",[],[{vin:1,name:"Police Crown Victoria",plate:"THELAW12",inGarage:1},{vin:2,name:"Police Crown Victoria",plate:"NOPLATE1",inGarage:1},{vin:3,name:"Police Taurus",plate:"8REV1XF2",inGarage:2}]).then((function(e){for(var a=[],n=0;n<e.length;n++){var c=e[n],i=void 0;switch(c.inGarage){case 1:i="Outside";break;case 2:i="In Garage";break;case 3:i="Impounded";break;case 4:i="Destroyed";break;default:i="Unknown"}c.inGarage=i,a.push(c)}d(a.sort(Te)),r(a.sort(Te)),t("getVehicleOptions",[],[{id:1,name:"Police Crown Victoria",cost:1e5},{id:2,name:"Police Crown Victoria",cost:24e4},{id:3,name:"Police Taurus",cost:15e4},{id:4,name:"Scorcher",cost:2500}]).then((function(e){g(e[0].id),p("vehicleOptions",e.sort(Ve))}))}))}var w=c.a.useRef(),N=c.a.useState(!1),R=Object(j.a)(N,2),S=R[0],M=R[1];function _(e,t){"buyVehicle"===e&&(w.current=t,M(e))}function I(){M(!1)}return c.a.useEffect((function(){k()}),[]),Object(v.jsxs)("div",{className:"FactionMembersMain",children:[Object(v.jsx)("div",{className:"PageSectionContainer",style:{width:"100%",height:"10%",alignItems:"center"},children:Object(v.jsx)(Ee,{name:"Vehicles",values:b,doRankAction:_,handleVal:function(e){if(p("searchBar",e),0===e.length)r(s.sort(Te));else{for(var t=[],a=0;a<s.length;a++)s[a].plate.toLowerCase().includes(e.toLowerCase())&&t.push(s[a]);r(t.sort(Te))}}})}),Object(v.jsx)("div",{className:"PageSectionPadding"}),Object(v.jsxs)("div",{className:"PageSectionContainer",style:{width:"100%",height:"90%"},children:[Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(A.a,{className:"Modal",isOpen:!1!==S,onRequestClose:I,style:{overlay:{backgroundColor:"rgba(255, 255, 255, 0)"}},ariaHideApp:!1,animation:!1,children:Object(v.jsx)("div",{className:"ModalContainer",children:"buyVehicle"===S&&Object(v.jsx)(Fe,{closeModal:I,values:b,setValue:p,buyVehicle:function(){I(),t("buyVehicle",{id:f},[]).then((function(){k()}),!0)},currVehOption:f,setCurrVehOption:g})})})}),Object(v.jsx)(Le,{rows:i,doRankAction:_})]})]})};function He(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2);a[0],a[1];return Object(v.jsx)(R.a,{className:"SidebarButton",onClick:function(){e.onClick(e.name)},style:{backgroundColor:e.currentPage===e.name?"#30455f":"var(--dark)",width:"100%",borderRadius:"0px"},size:"large",children:e.name})}var Ge=function(e){return Object(v.jsx)(b.a,{children:Object(v.jsx)(m.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{height:"100%",width:"100%"},children:e.children})})},Je=Object(h.a)({palette:{type:"dark"}}),Ye=["Info","Members","Ranks","Vehicles","Settings","Logs"];var ze=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)("Info"),l=Object(j.a)(r,2),h=l[0],O=l[1],g=Object(n.useState)(!1),p=Object(j.a)(g,2),C=p[0],y=p[1];function w(e,t,a,n){return A.apply(this,arguments)}function A(){return(A=Object(d.a)(o.a.mark((function e(t,a,n,c){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c||y(!0),e.next=3,f(t,a,n);case 3:return i=e.sent,c||y(!1),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.a.useEffect((function(){window.addEventListener("message",(function(e){void 0!==e.data.show&&i(e.data.show)})),window.addEventListener("keydown",(function(e){"Escape"===e.key&&f("closeNui",{},(function(){}))}))}),[]);var N,R=[],S=Object(s.a)(Ye);try{for(S.s();!(N=S.n()).done;){var M=N.value,_=Object(v.jsx)(He,{name:M,onClick:O,currentPage:h});R.push(_)}}catch(I){S.e(I)}finally{S.f()}return Object(v.jsx)("div",{className:"AppHolder",children:Object(v.jsx)(b.a,{children:a&&Object(v.jsx)(m.a.div,{className:"App",initial:{scaleY:0},exit:{scaleY:0},transition:{duration:.2},animate:a?"open":"closed",variants:{open:{scaleY:1},closed:{scaleY:0}},children:Object(v.jsxs)(u.a,{theme:Je,children:[Object(v.jsx)("div",{className:"Topbar",children:"Faction Management"}),C&&Object(v.jsx)("div",{className:"Main",children:Object(v.jsx)("div",{className:"Spinner",children:Object(v.jsx)(x.a,{color:"white",size:15,loading:C})})}),a&&Object(v.jsxs)("div",{className:"Main",style:{display:C?"none":"flex"},children:[Object(v.jsx)("div",{className:"Sidebar",children:R}),Object(v.jsxs)("div",{className:"Container",children:["Info"===h&&Object(v.jsx)(Ge,{children:Object(v.jsx)(k,{doNuiAction:w})}),"Members"===h&&Object(v.jsx)(Ge,{children:Object(v.jsx)(re,{doNuiAction:w})}),"Ranks"===h&&Object(v.jsx)(Ge,{children:Object(v.jsx)(Se,{doNuiAction:w})}),"Logs"===h&&Object(v.jsx)(Ge,{children:Object(v.jsx)(ve,{doNuiAction:w})}),"Vehicles"===h&&Object(v.jsx)(Ge,{children:Object(v.jsx)(Be,{doNuiAction:w})})]})]})]})})})})},We=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,261)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(ze,{})}),document.getElementById("root")),We()},39:function(e,t,a){}},[[201,1,2]]]);
//# sourceMappingURL=main.8f2706b7.chunk.js.map