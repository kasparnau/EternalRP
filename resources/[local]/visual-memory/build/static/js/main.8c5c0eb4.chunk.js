(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(9),o=c.n(i),a=(c(14),c(7)),u=c(6),s=c(4),l=c(2);c(15);var f=function(e,t,c){return new Promise((function(c){fetch("https://".concat("visual-memory","/nuiAction"),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({action:e,data:t})}).then((function(e){return e.json()})).then((function(e){c(e)}))}))},d=c(1);function v(e){var t=e.isClickedTile(e.col,e.row),c=e.isCorrectTile(e.col,e.row),n="";return n=t?"#ffffff":"#2573c1",e.memorizing&&c&&(n="#ffffff"),t&&!c&&(n="#154368"),Object(d.jsx)("div",{className:"Button",style:{backgroundColor:n},onClick:function(t){return e.handleClick(e.col,e.row)}})}function j(e){return Math.floor(Math.random()*e)}var m=function(){var e=r.a.useState(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],i=r.a.useState(!0),o=Object(l.a)(i,2),m=o[0],h=o[1],b=r.a.useState(0),O=Object(l.a)(b,2),T=O[0],k=O[1],g=r.a.useState(0),p=Object(l.a)(g,2),w=p[0],C=p[1],y=r.a.useState(0),S=Object(l.a)(y,2),x=S[0],N=S[1],A=r.a.useRef(),E=function(e){var t=r.a.useState({value:e,resolve:function(){}}),c=Object(l.a)(t,2),n=c[0],i=c[1];return r.a.useEffect((function(){n.resolve(n.value)}),[n]),[n.value,function(e){return new Promise((function(t){i((function(c){var n=e;return"function"===typeof e&&(n=e(c.value)),{value:n,resolve:t}}))}))}]}({clicked:[],correctTiles:[]}),F=Object(l.a)(E,2),P=F[0],z=F[1];function I(e,t,c){for(var n=!1,r=c||P.correctTiles,i=0;i<r.length;i++){var o=r[i];o[0]===e&&o[1]===t&&(n=!0)}return n}function M(e,t,c){for(var n=!1,r=c||P.clicked,i=0;i<r.length;i++){var o=r[i];o[0]===e&&o[1]===t&&(n=!0)}return n}function B(e,t,c,n){var r=j(e),i=j(t);return I(r,i,c)?B(e,t,c,n):[r,i]}function J(e,t,c,n){for(var r,i,o=[],a=0;a<c;a++){var f=B(e,t,o,n),d=Object(l.a)(f,2),v=d[0],j=d[1];o.push([v,j])}r="correctTiles",i=o,z(Object(s.a)(Object(s.a)({},P),{},Object(u.a)({},r,i)))}function L(e){k(e.tiles),C(e.rows),N(e.columns);z({clicked:[],correctTiles:[]}),J(e.columns,e.rows,e.tiles,e.correctTiles),h(!0),clearTimeout(A.current),A.current=setTimeout((function(){console.log("WAITED "+e.memorizeTime),h(!1)}),e.memorizeTime)}function D(e){f("endGame",{success:e},[]).then((function(){N(0),C(0),k(100);z({clicked:[],correctTiles:[]})}))}function R(){for(var e=0,t=0;t<P.clicked.length;t++)I(P.clicked[t][0],P.clicked[t][1])&&(e+=1);return e}function G(){for(var e=0,t=0;t<P.clicked.length;t++)I(P.clicked[t][0],P.clicked[t][1])||(e+=1);return e}function H(e,t){var c=M(e,t);m||c||z((function(c){I(e,t)?R()+1===T&&D(!0):3===G()+1&&D(!1);return Object(s.a)(Object(s.a)({},c),{},{clicked:[].concat(Object(a.a)(c.clicked),[[e,t]])})}))}return r.a.useEffect((function(){window.addEventListener("message",(function(e){void 0!==e.data.show&&(e.data.show||clearTimeout(A.current),n(e.data.show)),void 0!==e.data.play&&L(e.data)}))}),[]),Object(d.jsx)("div",{children:c&&Object(d.jsx)("div",{className:"App",children:Object(d.jsx)("div",{className:"Main",children:Object(d.jsx)("div",{className:"ItemsHolder",children:Object(a.a)(Array(x)).map((function(e,t){return Object(d.jsx)("div",{className:"Row",children:Object(a.a)(Array(w)).map((function(e,c){return Object(d.jsx)(v,{row:c,col:t,values:P,handleClick:H,isClickedTile:M,isCorrectTile:I,memorizing:m})}))})}))})})})})},h=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,18)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;c(e),n(e),r(e),i(e),o(e)}))};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),h()}},[[17,1,2]]]);
//# sourceMappingURL=main.8c5c0eb4.chunk.js.map